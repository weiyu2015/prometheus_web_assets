(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{109:function(e,t){!function(e){e.color={},e.color.make=function(t,a,n,r){var o={};return o.r=t||0,o.g=a||0,o.b=n||0,o.a=null!=r?r:1,o.add=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]+=t;return o.normalize()},o.scale=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,a){return t<e?e:t>a?a:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,a){var n;do{if(""!=(n=t.css(a).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(a){var n,r=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=e.trim(a).toLowerCase();return"transparent"==o?r(255,255,255,0):r((n=t[o]||[0,0,0])[0],n[1],n[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(window.jQuery),function(e){let t=Object.prototype.hasOwnProperty;function a(t,a){var n=a.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(a),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var r=this.context=n.getContext("2d");let o=window.devicePixelRatio||1,l=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=o/l,this.resize(a.width(),a.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function n(t,n,r,o){let l=[],i={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,eventSectionHeight:0,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,c=null,u=null,h=null,m=null,p=[],d=[],g={left:0,right:0,top:0,bottom:0},f=0,x=0,b={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],processRange:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;function E(e,t){t=[y].concat(t);for(var a=0;a<e.length;++a)e[a].apply(this,t)}function v(t){l=function(t){let a=[];for(let n=0;n<t.length;++n){let r=e.extend(!0,{},i.series);null!=t[n].data?(r.data=t[n].data,delete t[n].data,e.extend(!0,r,t[n]),t[n].data=r.data):r.data=t[n],a.push(r)}return a}(t),function(){var t,a=l.length,n=-1;for(t=0;t<l.length;++t){let e=l[t].color;null!=e&&(a--,"number"==typeof e&&e>n&&(n=e))}a<=n&&(a=n+1);var r,o=[],s=i.colors,c=s.length,u=0;for(t=0;t<a;t++)r=e.color.parse(s[t%c]||"#666"),t%c==0&&t&&(u=u>=0?u<.5?-u-.2:0:-u),o[t]=r.scale("rgb",1+u);var h,m=0;for(t=0;t<l.length;++t){if(null==(h=l[t]).color?(h.color=o[m].toString(),++m):"number"==typeof h.color&&(h.color=o[h.color].toString()),null==h.lines.show){var g,f=!0;for(g in h)if(h[g]&&h[g].show){f=!1;break}f&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=T(p,k(h,"x")),h.yaxis=T(d,k(h,"y"))}}(),function(){let t,a,n,r,o,i,s,c,u,h,m,p,d=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function x(e,t,a){t<e.datamin&&t!=-f&&(e.datamin=t),a>e.datamax&&a!=f&&(e.datamax=a)}for(e.each(w(),(function(e,t){t.datamin=d,t.datamax=g,t.used=!1})),t=0;t<l.length;++t)o=l[t],o.datapoints={points:[]},E(b.processRawData,[o,o.data,o.datapoints]);for(t=0;t<l.length;++t){if(o=l[t],m=o.data,p=o.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),o.stack||o.bars.show||o.lines.show&&o.lines.fill){let e=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:e}),o.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}o.datapoints.format=p}if(null!=o.datapoints.pointsize)continue;o.datapoints.pointsize=p.length,s=o.datapoints.pointsize,i=o.datapoints.points;let e=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,a=n=0;a<m.length;++a,n+=s){h=m[a];let t=null==h;if(!t)for(r=0;r<s;++r)c=h[r],u=p[r],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=f:c==-1/0&&(c=-f)),null==c&&(u.required&&(t=!0),null!=u.defaultValue&&(c=u.defaultValue))),i[n+r]=c;if(t)for(r=0;r<s;++r)c=i[n+r],null!=c&&(u=p[r],!1!==u.autoscale&&(u.x&&x(o.xaxis,c,c),u.y&&x(o.yaxis,c,c))),i[n+r]=null;if(e&&n>0&&(!t||null!=i[n-s])){for(r=0;r<s;++r)i[n+s+r]=i[n+r];i[n+1]=i[n-s+1]||0,t&&(i[n]=h[0]),n+=s}}}for(t=0;t<l.length;++t){if(o=l[t],i=o.datapoints.points,s=o.datapoints.pointsize,"negative-Y"===o.transform)for(a=0;a<i.length;a+=s)null!=i[a]&&(c=i[a+1],i[a+1]=-c);E(b.processDatapoints,[o,o.datapoints])}for(t=0;t<l.length;++t){o=l[t],i=o.datapoints.points,s=o.datapoints.pointsize,p=o.datapoints.format;var y=d,v=d,k=g,S=g;for(a=0;a<i.length;a+=s)if(null!=i[a])for(r=0;r<s;++r)c=i[a+r],u=p[r],u&&!1!==u.autoscale&&c!=f&&c!=-f&&(u.x&&(c<y&&(y=c),c>k&&(k=c)),u.y&&(c<v&&(v=c),c>S&&(S=c)));if(o.bars.show){var T;switch(o.bars.align){case"left":T=0;break;case"right":T=-o.bars.barWidth;break;default:T=-o.bars.barWidth/2}o.bars.horizontal?(v+=T,S+=T+o.bars.barWidth):(y+=T,k+=T+o.bars.barWidth)}x(o.xaxis,y,k),x(o.yaxis,v,S)}e.each(w(),(function(e,t){t.datamin==d&&(t.datamin=null),t.datamax==g&&(t.datamax=null)}))}()}function k(e,t){var a=e[t+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function w(){return e.grep(p.concat(d),(function(e){return e}))}function S(e){var t,a,n={};for(t=0;t<p.length;++t)(a=p[t])&&(n["x"+a.n]=a.c2p(e.left));for(t=0;t<d.length;++t)(a=d[t])&&(n["y"+a.n]=a.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function T(t,a){return t[a-1]||(t[a-1]={n:a,direction:t==p?"x":"y",options:e.extend(!0,{},t==p?i.xaxis:i.yaxis)}),t[a-1]}function C(){H&&clearTimeout(H),u.unbind("mousemove",q),u.unbind("mouseleave",B),u.unbind("click",U),E(b.shutdown,[u])}function M(e){let t=e.options,a=e.ticks||[],n=t.labelWidth||0,r=t.labelHeight||0,o=n||("x"==e.direction?Math.floor(s.width/(a.length||1)):null),l=e.direction+"Axis "+e.direction+e.n+"Axis",i="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,c=t.font||"flot-tick-label tickLabel";for(let u=0;u<a.length;++u){let e=a[u];if(!e.label)continue;let t=s.getTextInfo(i,e.label,c,null,o);n=Math.max(n,t.width+1),r=Math.max(r,t.height)}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||r}function O(t){let a=t.labelWidth,n=t.labelHeight,r=t.options.position,o="x"===t.direction,l=t.options.tickLength,c=i.grid.axisMargin,u=i.grid.labelMargin,h=i.grid.eventSectionHeight,m=!0,f=!0,x=!0,b=!1;e.each(o?p:d,(function(e,a){a&&(a.show||a.reserveSpace)&&(a===t?b=!0:a.options.position===r&&(b?f=!1:m=!1),b||(x=!1))})),f&&(c=0),null==l&&(l=x?"full":5),isNaN(+l)||(u+=+l),o?(n+=u,n+=h,"bottom"==r?(g.bottom+=n+c,t.box={top:s.height-g.bottom,height:n}):(t.box={top:g.top+c,height:n},g.top+=n+c)):(a+=u,"left"==r?(t.box={left:g.left+c,width:a},g.left+=a+c):(g.right+=a+c,t.box={left:s.width-g.right,width:a})),t.position=r,t.tickLength=l,t.box.padding=u,t.box.eventSectionPadding=h,t.innermost=m}function N(){var a=w(),n=i.grid.show;for(var r in g){let e=i.grid.margin||0;g[r]="number"==typeof e?e:e[r]||0}for(var r in E(b.processOffset,[g]),g)"object"==typeof i.grid.borderWidth?g[r]+=n?i.grid.borderWidth[r]:0:g[r]+=n?i.grid.borderWidth:0;if(e.each(a,(function(e,t){let a=t.options;t.show=null==a.show?t.used:a.show,t.reserveSpace=null==a.reserveSpace?t.show:a.reserveSpace,function(e){let t=e.options,a=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),r=n-a;if(0==r){let e=.25,r=Math.abs(0==n?1:n*e);null==t.min&&(a-=r),null!=t.max&&null==t.min||(n+=r)}else{let o=t.autoscaleMargin;null!=o&&(null==t.min&&(a-=r*o,a<0&&null!=e.datamin&&e.datamin>=0&&(a=0)),null==t.max&&(n+=r*o,n>0&&null!=e.datamax&&e.datamax<=0&&(n=0)))}e.min=a,e.max=n}(t)})),E(b.processRange,[]),n){var o=e.grep(a,(function(e){return e.show||e.reserveSpace}));let t=!1;for(var c=0;c<2&&(e.each(o,(function(e,a){P(a),_(a),t=L(a,a.ticks)||t,M(a)})),t&&b.processRange.length>0);c++)E(b.processRange,[]),t=!1;for(c=o.length-1;c>=0;--c)O(o[c]);!function(){let t,a=i.grid.minBorderMargin;if(null==a)for(a=0,t=0;t<l.length;++t)a=Math.max(a,2*(l[t].points.radius+l[t].points.lineWidth/2));let n={left:a,right:a,top:a,bottom:a};e.each(w(),(function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))})),g.left=Math.ceil(Math.max(n.left,g.left)),g.right=Math.ceil(Math.max(n.right,g.right)),g.top=Math.ceil(Math.max(n.top,g.top)),g.bottom=Math.ceil(Math.max(n.bottom,g.bottom))}(),e.each(o,(function(e,t){!function(e){"x"==e.direction?(e.box.left=g.left-e.labelWidth/2,e.box.width=s.width-g.left-g.right+e.labelWidth):(e.box.top=g.top-e.labelHeight/2,e.box.height=s.height-g.bottom-g.top+e.labelHeight)}(t)}))}f=s.width-g.left-g.right,x=s.height-g.bottom-g.top,e.each(a,(function(e,t){!function(e){function t(e){return e}var a,n,r=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(a=e.scale=f/Math.abs(r(e.max)-r(e.min)),n=Math.min(r(e.max),r(e.min))):(a=-(a=e.scale=x/Math.abs(r(e.max)-r(e.min))),n=Math.max(r(e.max),r(e.min))),e.p2c=r==t?function(e){return(e-n)*a}:function(e){return(r(e)-n)*a},e.c2p=o?function(e){return o(n+e/a)}:function(e){return n+e/a}}(t)})),n&&e.each(w(),(function(e,t){let a,n,r,o,l,i=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,h=t.options.font||"flot-tick-label tickLabel";if(s.removeText(u),t.show&&0!=t.ticks.length)for(let m=0;m<t.ticks.length;++m)a=t.ticks[m],!a.label||a.v<t.min||a.v>t.max||("x"==t.direction?(o="center",n=g.left+t.p2c(a.v),"bottom"==t.position?r=i.top+i.padding+i.eventSectionPadding:(r=i.top+i.height-i.padding,l="bottom")):(l="middle",r=g.top+t.p2c(a.v),"left"==t.position?(n=i.left+i.width-i.padding,o="right"):n=i.left+i.padding),s.addText(u,n,r,a.label,h,null,null,o,l))})),function(){null!=i.legend.container?e(i.legend.container).html(""):t.find(".legend").remove();if(!i.legend.show)return;for(var a,n,r=[],o=[],s=!1,c=i.legend.labelFormatter,u=0;u<l.length;++u)(a=l[u]).label&&(n=c?c(a.label,a):a.label)&&o.push({label:n,color:a.color});if(i.legend.sorted)if(e.isFunction(i.legend.sorted))o.sort(i.legend.sorted);else if("reverse"==i.legend.sorted)o.reverse();else{var h="descending"!=i.legend.sorted;o.sort((function(e,t){return e.label==t.label?0:e.label<t.label!=h?1:-1}))}for(u=0;u<o.length;++u){let e=o[u];u%i.legend.noColumns==0&&(s&&r.push("</tr>"),r.push("<tr>"),s=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+i.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+e.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e.label+"</td>")}s&&r.push("</tr>");if(0==r.length)return;var m='<table style="font-size:smaller;color:'+i.grid.color+'">'+r.join("")+"</table>";if(null!=i.legend.container)e(i.legend.container).html(m);else{var p="",d=i.legend.position,f=i.legend.margin;null==f[0]&&(f=[f,f]),"n"==d.charAt(0)?p+="top:"+(f[1]+g.top)+"px;":"s"==d.charAt(0)&&(p+="bottom:"+(f[1]+g.bottom)+"px;"),"e"==d.charAt(1)?p+="right:"+(f[0]+g.right)+"px;":"w"==d.charAt(1)&&(p+="left:"+(f[0]+g.left)+"px;");var x=e('<div class="legend">'+m.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(t);if(0!=i.legend.backgroundOpacity){let t=i.legend.backgroundColor;null==t&&(t=i.grid.backgroundColor,t=t&&"string"==typeof t?e.color.parse(t):e.color.extract(x,"background-color"),t.a=1,t=t.toString());let a=x.children();e('<div style="position:absolute;width:'+a.width()+"px;height:"+a.height()+"px;"+p+"background-color:"+t+';"> </div>').prependTo(x).css("opacity",i.legend.backgroundOpacity)}}}()}function P(t){let a,n=t.options;a="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?s.width:s.height);let r=(t.max-t.min)/a,o=-Math.floor(Math.log(r)/Math.LN10),l=n.tickDecimals;null!=l&&o>l&&(o=l);let i,c=Math.pow(10,-o),u=r/c;if(u<1.5?i=1:u<3?(i=2,u>2.25&&(null==l||o+1<=l)&&(i=2.5,++o)):i=u<7.5?5:10,i*=c,null!=n.minTickSize&&i<n.minTickSize&&(i=n.minTickSize),t.delta=r,t.tickDecimals=Math.max(0,null!=l?l:o),t.tickSize=n.tickSize||i,null!==n.tickDecimals&&void 0!==n.tickDecimals||(t.scaledDecimals=t.tickDecimals+o),"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){let t,a=[],n=(l=e.min,(i=e.tickSize)*Math.floor(l/i)),r=0,o=Number.NaN;var l,i;do{t=o,o=n+r*e.tickSize,a.push(o),++r}while(o<e.max&&o!=t);return a},t.tickFormatter=function(e,t){let a=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var n=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var r=n.indexOf(".");let e=-1==r?0:n.length-r-1;if(e<t.tickDecimals)return(e?n:n+".")+(""+a).substr(1,t.tickDecimals-e)}return n}),e.isFunction(n.tickFormatter)&&(t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)}),null!=n.alignTicksWithAxis){var h=("x"==t.direction?p:d)[n.alignTicksWithAxis-1];if(h&&h.used&&h!=t){let e=t.tickGenerator(t);if(e.length>0&&(null==n.min&&(t.min=Math.min(t.min,e[0])),null==n.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1]))),t.tickGenerator=function(e){var t,a,n=[];for(a=0;a<h.ticks.length;++a)t=(h.ticks[a].v-h.min)/(h.max-h.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==n.tickDecimals){let e=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),a=t.tickGenerator(t);a.length>1&&/\..*0$/.test((a[1]-a[0]).toFixed(e))||(t.tickDecimals=e)}}}}function _(t){var a=t.options.ticks,n=[];let r,o;for(null==a||"number"==typeof a&&a>0?n=t.tickGenerator(t):a&&(n=e.isFunction(a)?a(t):a),t.ticks=[],r=0;r<n.length;++r){let e=null,a=n[r];"object"==typeof a?(o=+a[0],a.length>1&&(e=a[1])):o=+a,null==e&&(e=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:e})}}function L(e,t){let a=!1;return e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v),a=!0),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v),a=!0)),a}function z(){s.clear(),E(b.drawBackground,[h]);let e=i.grid;e.show&&e.backgroundColor&&(h.save(),h.translate(g.left,g.top),h.fillStyle=Z(i.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)"),h.fillRect(0,0,f,x),h.restore()),e.show&&!e.aboveData&&I();for(let t=0;t<l.length;++t)E(b.drawSeries,[h,l[t]]),R(l[t]);E(b.draw,[h]),e.show&&e.aboveData&&I(),s.render(),Y()}function F(e,t){var a,n,r,o,l=w();for(let i=0;i<l.length;++i)if((a=l[i]).direction==t&&(e[o=t+a.n+"axis"]||1!=a.n||(o=t+"axis"),e[o])){n=e[o].from,r=e[o].to;break}if(e[o]||(a="x"==t?p[0]:d[0],n=e[t+"1"],r=e[t+"2"]),null!=n&&null!=r&&n>r){let e=n;n=r,r=e}return{from:n,to:r,axis:a}}function I(){let t,a,n,r;h.save(),h.translate(g.left,g.top);let o=i.grid.markings;if(o)for(e.isFunction(o)&&(a=y.getAxes(),a.xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,o=o(a)),t=0;t<o.length;++t){let e=o[t],a=F(e,"x"),n=F(e,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),a.to<a.axis.min||a.from>a.axis.max||n.to<n.axis.min||n.from>n.axis.max)continue;a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max);let r=a.from===a.to,l=n.from===n.to;if(!r||!l)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),r||l){let t=e.lineWidth||i.grid.markingsLineWidth,o=t%2?.5:0;h.beginPath(),h.strokeStyle=e.color||i.grid.markingsColor,h.lineWidth=t,r?(h.moveTo(a.to+o,n.from),h.lineTo(a.to+o,n.to)):(h.moveTo(a.from,n.to+o),h.lineTo(a.to,n.to+o)),h.stroke()}else h.fillStyle=e.color||i.grid.markingsColor,h.fillRect(a.from,n.to,a.to-a.from,n.from-n.to)}a=w(),n=i.grid.borderWidth;for(let e=0;e<a.length;++e){var l,s,c,u,m=a[e],p=m.box,d=m.tickLength;if(m.show&&0!=m.ticks.length){for(h.lineWidth=1,"x"==m.direction?(l=0,s="full"==d?"top"==m.position?0:x:p.top-g.top+("top"==m.position?p.height:0)):(s=0,l="full"==d?"left"==m.position?0:f:p.left-g.left+("left"==m.position?p.width:0)),m.innermost||(h.strokeStyle=m.options.color,h.beginPath(),c=u=0,"x"==m.direction?c=f+1:u=x+1,1==h.lineWidth&&("x"==m.direction?s=Math.floor(s)+.5:l=Math.floor(l)+.5),h.moveTo(l,s),h.lineTo(l+c,s+u),h.stroke()),h.strokeStyle=m.options.tickColor,h.beginPath(),t=0;t<m.ticks.length;++t){let e=m.ticks[t].v;c=u=0,isNaN(e)||e<m.min||e>m.max||"full"==d&&("object"==typeof n&&n[m.position]>0||n>0)&&(e==m.min||e==m.max)||("x"==m.direction?(l=m.p2c(e),u="full"==d?-x:d,"top"==m.position&&(u=-u)):(s=m.p2c(e),c="full"==d?-f:d,"left"==m.position&&(c=-c)),1==h.lineWidth&&("x"==m.direction?l=Math.floor(l)+.5:s=Math.floor(s)+.5),h.moveTo(l,s),h.lineTo(l+c,s+u))}h.stroke()}}n&&(r=i.grid.borderColor,"object"==typeof n||"object"==typeof r?("object"!==typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!==typeof r&&(r={top:r,right:r,bottom:r,left:r}),n.top>0&&(h.strokeStyle=r.top,h.lineWidth=n.top,h.beginPath(),h.moveTo(0-n.left,0-n.top/2),h.lineTo(f,0-n.top/2),h.stroke()),n.right>0&&(h.strokeStyle=r.right,h.lineWidth=n.right,h.beginPath(),h.moveTo(f+n.right/2,0-n.top),h.lineTo(f+n.right/2,x),h.stroke()),n.bottom>0&&(h.strokeStyle=r.bottom,h.lineWidth=n.bottom,h.beginPath(),h.moveTo(f+n.right,x+n.bottom/2),h.lineTo(0,x+n.bottom/2),h.stroke()),n.left>0&&(h.strokeStyle=r.left,h.lineWidth=n.left,h.beginPath(),h.moveTo(0-n.left/2,x+n.bottom),h.lineTo(0-n.left/2,0),h.stroke())):(h.lineWidth=n,h.strokeStyle=i.grid.borderColor,h.strokeRect(-n/2,-n/2,f+n,x+n))),h.restore()}function R(e){e.lines.show&&(function(e){function t(e,t,a,n,r){let o=e.points,l=e.pointsize,i=null,s=null;h.beginPath();for(let d=l;d<o.length;d+=l){var c=o[d-l],u=o[d-l+1],m=o[d],p=o[d+1];if(null!=c&&null!=m){if(u<=p&&u<r.min){if(p<r.min)continue;c=(r.min-u)/(p-u)*(m-c)+c,u=r.min}else if(p<=u&&p<r.min){if(u<r.min)continue;m=(r.min-u)/(p-u)*(m-c)+c,p=r.min}if(u>=p&&u>r.max){if(p>r.max)continue;c=(r.max-u)/(p-u)*(m-c)+c,u=r.max}else if(p>=u&&p>r.max){if(u>r.max)continue;m=(r.max-u)/(p-u)*(m-c)+c,p=r.max}if(c<=m&&c<n.min){if(m<n.min)continue;u=(n.min-c)/(m-c)*(p-u)+u,c=n.min}else if(m<=c&&m<n.min){if(c<n.min)continue;p=(n.min-c)/(m-c)*(p-u)+u,m=n.min}if(c>=m&&c>n.max){if(m>n.max)continue;u=(n.max-c)/(m-c)*(p-u)+u,c=n.max}else if(m>=c&&m>n.max){if(c>n.max)continue;p=(n.max-c)/(m-c)*(p-u)+u,m=n.max}c==i&&u==s||h.moveTo(n.p2c(c)+t,r.p2c(u)+a),i=m,s=p,h.lineTo(n.p2c(m)+t,r.p2c(p)+a)}}h.stroke()}h.save(),h.translate(g.left,g.top),h.lineJoin="round";let a=e.lines.lineWidth,n=e.shadowSize;if(a>0&&n>0){h.lineWidth=n,h.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(a/2+n/2),Math.cos(r)*(a/2+n/2),e.xaxis,e.yaxis),h.lineWidth=n/2,t(e.datapoints,Math.sin(r)*(a/2+n/4),Math.cos(r)*(a/2+n/4),e.xaxis,e.yaxis)}h.lineWidth=a,h.strokeStyle=e.color;let o=W(e.lines,e.color,0,x);o&&(h.fillStyle=o,function(e,t,a){let n=e.points,r=e.pointsize,o=Math.min(Math.max(0,a.min),a.max),l=0,i=!1,s=1,c=0,u=0;for(;!(r>0&&l>n.length+r);){l+=r;let e=n[l-r],d=n[l-r+s],g=n[l],f=n[l+s];if(i){if(r>0&&null!=e&&null==g){u=l,r=-r,s=2;continue}if(r<0&&l==c+r){h.fill(),i=!1,r=-r,s=1,l=c=u+r;continue}}if(null!=e&&null!=g){if(e<=g&&e<t.min){if(g<t.min)continue;d=(t.min-e)/(g-e)*(f-d)+d,e=t.min}else if(g<=e&&g<t.min){if(e<t.min)continue;f=(t.min-e)/(g-e)*(f-d)+d,g=t.min}if(e>=g&&e>t.max){if(g>t.max)continue;d=(t.max-e)/(g-e)*(f-d)+d,e=t.max}else if(g>=e&&g>t.max){if(e>t.max)continue;f=(t.max-e)/(g-e)*(f-d)+d,g=t.max}if(i||(h.beginPath(),h.moveTo(t.p2c(e),a.p2c(o)),i=!0),d>=a.max&&f>=a.max)h.lineTo(t.p2c(e),a.p2c(a.max)),h.lineTo(t.p2c(g),a.p2c(a.max));else if(d<=a.min&&f<=a.min)h.lineTo(t.p2c(e),a.p2c(a.min)),h.lineTo(t.p2c(g),a.p2c(a.min));else{var m=e,p=g;d<=f&&d<a.min&&f>=a.min?(e=(a.min-d)/(f-d)*(g-e)+e,d=a.min):f<=d&&f<a.min&&d>=a.min&&(g=(a.min-d)/(f-d)*(g-e)+e,f=a.min),d>=f&&d>a.max&&f<=a.max?(e=(a.max-d)/(f-d)*(g-e)+e,d=a.max):f>=d&&f>a.max&&d<=a.max&&(g=(a.max-d)/(f-d)*(g-e)+e,f=a.max),e!=m&&h.lineTo(t.p2c(m),a.p2c(d)),h.lineTo(t.p2c(e),a.p2c(d)),h.lineTo(t.p2c(g),a.p2c(f)),g!=p&&(h.lineTo(t.p2c(g),a.p2c(f)),h.lineTo(t.p2c(p),a.p2c(f)))}}}}(e.datapoints,e.xaxis,e.yaxis));a>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);h.restore()}(e),e.points.show||e.bars.show||function(e){let t=[],a=null,n=null,r=e.datapoints,o=[];for(let c=0;c<r.pointsize-2;c++)o.push(0);for(let c=0;c<r.points.length;c+=r.pointsize){var l=r.points[c],i=r.points[c+1];n=c===r.points.length-r.pointsize?null:r.points[c+r.pointsize],null!==l&&null!==i&&null===a&&null===n&&(t.push(l),t.push(i),t.push.apply(t,o)),a=l}var s=r.points;r.points=t,e.points.radius=e.lines.lineWidth/2,j(e),r.points=s}(e)),e.bars.show&&function(e){let t;switch(h.save(),h.translate(g.left,g.top),h.lineWidth=e.bars.lineWidth,h.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var a=e.bars.fill?function(t,a){return W(e.bars,e.color,t,a)}:null;(function(t,a,n,r,o,l){var i=t.points,s=t.pointsize;for(let c=0;c<i.length;c+=s)null!=i[c]&&D(i[c],i[c+1],i[c+2],a,n,r,o,l,h,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,a,e.xaxis,e.yaxis),h.restore()}(e),e.points.show&&j(e)}function j(e){function t(e,t,a,n,r,o,l,i){var s=e.points,c=e.pointsize;for(let p=0;p<s.length;p+=c){var u=s[p],m=s[p+1];null==u||u<o.min||u>o.max||m<l.min||m>l.max||(h.beginPath(),u=o.p2c(u),m=l.p2c(m)+n,"circle"==i?h.arc(u,m,t,0,r?Math.PI:2*Math.PI,!1):i(h,u,m,t,r),h.closePath(),a&&(h.fillStyle=a,h.fill()),h.stroke())}}h.save(),h.translate(g.left,g.top);let a=e.points.lineWidth,n=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(0==a&&(a=1e-4),a>0&&n>0){let a=n/2;h.lineWidth=a,h.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,r,null,a+a/2,!0,e.xaxis,e.yaxis,o),h.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,r,null,a/2,!0,e.xaxis,e.yaxis,o)}h.lineWidth=a,h.strokeStyle=e.color,t(e.datapoints,r,W(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),h.restore()}function D(e,t,a,n,r,o,l,i,s,c,u){var h,m,p,d,g,f,x,b,y;c?(b=f=x=!0,g=!1,d=t+n,p=t+r,(m=e)<(h=a)&&(y=m,m=h,h=y,g=!0,f=!1)):(g=f=x=!0,b=!1,h=e+n,m=e+r,(d=t)<(p=a)&&(y=d,d=p,p=y,b=!0,x=!1)),m<l.min||h>l.max||d<i.min||p>i.max||(h<l.min&&(h=l.min,g=!1),m>l.max&&(m=l.max,f=!1),p<i.min&&(p=i.min,b=!1),d>i.max&&(d=i.max,x=!1),h=l.p2c(h),p=i.p2c(p),m=l.p2c(m),d=i.p2c(d),o&&(s.fillStyle=o(p,d),s.fillRect(h,d,m-h,p-d)),u>0&&(g||f||x||b)&&(s.beginPath(),s.moveTo(h,p),g?s.lineTo(h,d):s.moveTo(h,d),x?s.lineTo(m,d):s.moveTo(m,d),f?s.lineTo(m,p):s.moveTo(m,p),b?s.lineTo(h,p):s.moveTo(h,p),s.stroke()))}function W(t,a,n,r){let o=t.fill;if(!o)return null;if(t.fillColor)return Z(t.fillColor,n,r,a);let l=e.color.parse(a);return l.a="number"==typeof o?o:.4,l.normalize(),l.toString()}y.setData=v,y.setupGrid=N,y.draw=z,y.getPlaceholder=function(){return t},y.getCanvas=function(){return s.element},y.getPlotOffset=function(){return g},y.width=function(){return f},y.height=function(){return x},y.offset=function(){let e=u.offset();return e.left+=g.left,e.top+=g.top,e},y.getData=function(){return l},y.getAxes=function(){var t={};return e.each(p.concat(d),(function(e,a){a&&(t[a.direction+(1!=a.n?a.n:"")+"axis"]=a)})),t},y.getXAxes=function(){return p},y.getYAxes=function(){return d},y.c2p=S,y.p2c=function(e){var t,a,n,r={};for(t=0;t<p.length;++t)if((a=p[t])&&a.used&&(n="x"+a.n,null==e[n]&&1==a.n&&(n="x"),null!=e[n])){r.left=a.p2c(e[n]);break}for(t=0;t<d.length;++t)if((a=d[t])&&a.used&&(n="y"+a.n,null==e[n]&&1==a.n&&(n="y"),null!=e[n])){r.top=a.p2c(e[n]);break}return r},y.getOptions=function(){return i},y.highlight=Q,y.unhighlight=$,y.triggerRedrawOverlay=Y,y.pointOffset=function(e){return{left:parseInt(p[k(e,"x")-1].p2c(+e.x)+g.left,10),top:parseInt(d[k(e,"y")-1].p2c(+e.y)+g.top,10)}},y.shutdown=C,y.destroy=function(){C(),t.removeData("plot").empty(),l=[],i=null,s=null,c=null,u=null,h=null,m=null,p=[],d=[],b=null,A=[],y=null},y.resize=function(){let e=t.width(),a=t.height();s.resize(e,a),c.resize(e,a)},y.hooks=b,function(){let t={Canvas:a};for(let a=0;a<o.length;++a){let n=o[a];n.init(y,t),n.options&&e.extend(!0,i,n.options)}}(),function(a){e.extend(!0,i,a),a&&a.colors&&(i.colors=a.colors);null==i.xaxis.color&&(i.xaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.yaxis.color&&(i.yaxis.color=e.color.parse(i.grid.color).scale("a",.22).toString());null==i.xaxis.tickColor&&(i.xaxis.tickColor=i.grid.tickColor||i.xaxis.color);null==i.yaxis.tickColor&&(i.yaxis.tickColor=i.grid.tickColor||i.yaxis.color);null==i.grid.borderColor&&(i.grid.borderColor=i.grid.color);null==i.grid.tickColor&&(i.grid.tickColor=e.color.parse(i.grid.color).scale("a",.22).toString());var n,r,o,l=t.css("font-size"),s=l?+l.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*s),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(o=i.xaxes.length||1,n=0;n<o;++n)(r=i.xaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.xaxis,r),i.xaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(o=i.yaxes.length||1,n=0;n<o;++n)(r=i.yaxes[n])&&!r.tickColor&&(r.tickColor=r.color),r=e.extend(!0,{},i.yaxis,r),i.yaxes[n]=r,r.font&&(r.font=e.extend({},c,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));i.xaxis.noTicks&&null==i.xaxis.ticks&&(i.xaxis.ticks=i.xaxis.noTicks);i.yaxis.noTicks&&null==i.yaxis.ticks&&(i.yaxis.ticks=i.yaxis.noTicks);i.x2axis&&(i.xaxes[1]=e.extend(!0,{},i.xaxis,i.x2axis),i.xaxes[1].position="top",null==i.x2axis.min&&(i.xaxes[1].min=null),null==i.x2axis.max&&(i.xaxes[1].max=null));i.y2axis&&(i.yaxes[1]=e.extend(!0,{},i.yaxis,i.y2axis),i.yaxes[1].position="right",null==i.y2axis.min&&(i.yaxes[1].min=null),null==i.y2axis.max&&(i.yaxes[1].max=null));i.grid.coloredAreas&&(i.grid.markings=i.grid.coloredAreas);i.grid.coloredAreasColor&&(i.grid.markingsColor=i.grid.coloredAreasColor);i.lines&&e.extend(!0,i.series.lines,i.lines);i.points&&e.extend(!0,i.series.points,i.points);i.bars&&e.extend(!0,i.series.bars,i.bars);null!=i.shadowSize&&(i.series.shadowSize=i.shadowSize);null!=i.highlightColor&&(i.series.highlightColor=i.highlightColor);for(n=0;n<i.xaxes.length;++n)T(p,n+1).options=i.xaxes[n];for(n=0;n<i.yaxes.length;++n)T(d,n+1).options=i.yaxes[n];for(var u in b)i.hooks[u]&&i.hooks[u].length&&(b[u]=b[u].concat(i.hooks[u]));E(b.processOptions,[i])}(r),function(){t.find(".flot-temp-elem").remove(),"static"==t.css("position")&&t.css("position","relative");s=new a("flot-base",t),c=new a("flot-overlay",t),h=s.context,m=c.context,u=e(c.element).unbind();var n=t.data("plot");n&&(n.shutdown(),c.clear());t.data("plot",y)}(),v(n),N(),z(),function(){i.grid.hoverable&&(u.mousemove(q),u.bind("mouseleave",B));i.grid.clickable&&u.click(U);E(b.bindEvents,[u])}();var A=[],H=null;function q(e){i.grid.hoverable&&V("plothover",e,(function(e){return 0!=e.hoverable}))}function B(e){i.grid.hoverable&&V("plothover",e,(function(){return!1}))}function U(e){y.isSelecting||V("plotclick",e,(function(e){return 0!=e.clickable}))}function V(e,a,n){let r=u.offset(),o=a.pageX-r.left-g.left,s=a.pageY-r.top-g.top,c=S({left:o,top:s});c.pageX=a.pageX,c.pageY=a.pageY,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey;let h=function(e,t,a){let n,r,o,s=i.grid.mouseActiveRadius,c=s*s+1,u=null;for(n=l.length-1;n>=0;--n){if(!a(l[n]))continue;let i=l[n],f=i.xaxis,x=i.yaxis,b=i.datapoints.points,y=f.c2p(e),E=x.c2p(t),v=s/f.scale,k=s/x.scale;if(o=i.datapoints.pointsize,f.options.inverseTransform&&(v=Number.MAX_VALUE),x.options.inverseTransform&&(k=Number.MAX_VALUE),i.lines.show||i.points.show)for(r=0;r<b.length;r+=o){var h=b[r],m=b[r+1];if(null==h)continue;if(h-y>v||h-y<-v||m-E>k||m-E<-k)continue;let a=Math.abs(f.p2c(h)-e),l=Math.abs(x.p2c(m)-t),i=a*a+l*l;i<c&&(c=i,u=[n,r/o])}if(i.bars.show&&!u){var p,d;switch(i.bars.align){case"left":p=0;break;case"right":p=-i.bars.barWidth;break;default:p=-i.bars.barWidth/2}for(d=p+i.bars.barWidth,r=0;r<b.length;r+=o){h=b[r],m=b[r+1];var g=b[r+2];null!=h&&((l[n].bars.horizontal?y<=Math.max(g,h)&&y>=Math.min(g,h)&&E>=m+p&&E<=m+d:y>=h+p&&y<=h+d&&E>=Math.min(g,m)&&E<=Math.max(g,m))&&(u=[n,r/o]))}}}return u?(n=u[0],r=u[1],o=l[n].datapoints.pointsize,{datapoint:l[n].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:l[n],seriesIndex:n}):null}(o,s,n);if(h&&(h.pageX=parseInt(h.series.xaxis.p2c(h.datapoint[0])+r.left+g.left,10),h.pageY=parseInt(h.series.yaxis.p2c(h.datapoint[1])+r.top+g.top,10)),i.grid.autoHighlight){for(let t=0;t<A.length;++t){let a=A[t];a.auto!=e||h&&a.series==h.series&&a.point[0]==h.datapoint[0]&&a.point[1]==h.datapoint[1]||$(a.series,a.point)}h&&Q(h.series,h.datapoint,e)}t.trigger(e,[c,h])}function Y(){let e=i.interaction.redrawOverlayInterval;-1!=e?H||(H=setTimeout(G,e)):G()}function G(){let e,t;for(H=null,m.save(),c.clear(),m.translate(g.left,g.top),e=0;e<A.length;++e)t=A[e],t.series.bars.show?J(t.series,t.point):X(t.series,t.point);m.restore(),E(b.drawOverlay,[m])}function Q(e,t,a){if("number"==typeof e&&(e=l[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let n=K(e,t);-1==n?(A.push({series:e,point:t,auto:a}),Y()):a||(A[n].auto=!1)}function $(e,t){if(null==e&&null==t)return A=[],void Y();if("number"==typeof e&&(e=l[e]),"number"==typeof t){let a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}let a=K(e,t);-1!=a&&(A.splice(a,1),Y())}function K(e,t){for(let a=0;a<A.length;++a){let n=A[a];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return a}return-1}function X(t,a){var n=a[0],r=a[1],o=t.xaxis,l=t.yaxis,i="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(n<o.min||n>o.max||r<l.min||r>l.max)return;let s=t.points.radius+t.points.lineWidth/2;m.lineWidth=s,m.strokeStyle=i;let c=1.5*s;n=o.p2c(n),r=l.p2c(r),m.beginPath(),"circle"==t.points.symbol?m.arc(n,r,c,0,2*Math.PI,!1):t.points.symbol(m,n,r,c,!1),m.closePath(),m.stroke()}function J(t,a){var n,r="string"===typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=r;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}m.lineWidth=t.bars.lineWidth,m.strokeStyle=r,D(a[0],a[1],a[2]||0,n,n+t.bars.barWidth,(function(){return o}),t.xaxis,t.yaxis,m,t.bars.horizontal,t.bars.lineWidth)}function Z(t,a,n,r){if("string"==typeof t)return t;{let o=h.createLinearGradient(0,n,0,a);for(let a=0,n=t.colors.length;a<n;++a){let l=t.colors[a];if("string"!=typeof l){let t=e.color.parse(r);null!=l.brightness&&(t=t.scale("rgb",l.brightness)),null!=l.opacity&&(t.a*=l.opacity),l=t.toString()}o.addColorStop(a/(n-1),l)}return o}}}e.fn.detach||(e.fn.detach=function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)}))}),a.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);let a=this.element,n=this.context,r=this.pixelRatio;this.width!=e&&(a.width=e*r,a.style.width=e+"px",this.width=e),this.height!=t&&(a.height=t*r,a.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(r,r)},a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){let e=this._textCache;for(let r in e)if(t.call(e,r)){let o=this.getTextLayer(r),l=e[r];o.hide();for(let e in l)if(t.call(l,e)){let r=l[e];for(let e in r)if(t.call(r,e)){let t=r[e].positions;for(var a,n=0;a=t[n];n++)a.active?a.rendered||(o.append(a.element),a.rendered=!0):(t.splice(n--,1),a.rendered&&a.element.detach());0==t.length&&delete r[e]}}o.show()}},a.prototype.getTextLayer=function(t){let a=this.text[t];return null==a&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text flot-temp-elem'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),a=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),a},a.prototype.getTextInfo=function(t,a,n,r,o){let l,i,s,c;if(a=""+a,l="object"===typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,i=this._textCache[t],null==i&&(i=this._textCache[t]={}),s=i[l],null==s&&(s=i[l]={}),c=s[a],null==c){var u=e("<div></div>").html(a).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"===typeof n?u.css({font:l,color:n.color}):"string"===typeof n&&u.addClass(n),c=s[a]={element:u,positions:[]};let r=this._textSizeCache[a];r?(c.width=r.width,c.height=r.height):(c.width=u.outerWidth(!0),c.height=u.outerHeight(!0),this._textSizeCache[a]={width:c.width,height:c.height}),u.detach()}return c},a.prototype.addText=function(e,t,a,n,r,o,l,i,s){let c=this.getTextInfo(e,n,r,o,l),u=c.positions;"center"==i?t-=c.width/2:"right"==i&&(t-=c.width),"middle"==s?a-=c.height/2:"bottom"==s&&(a-=c.height);for(var h,m=0;h=u[m];m++)if(h.x==t&&h.y==a)return void(h.active=!0);h={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:t,y:a},u.push(h),h.element.css({top:Math.round(a),left:Math.round(t),"text-align":i})},a.prototype.removeText=function(e,a,n,r,o,l){if(null==r){let a=this._textCache[e];if(null!=a)for(let e in a)if(t.call(a,e)){let n=a[e];for(let e in n)if(t.call(n,e))for(var i=n[e].positions,s=0;c=i[s];s++)c.active=!1}}else{var c;for(i=this.getTextInfo(e,r,o,l).positions,s=0;c=i[s];s++)c.x==a&&c.y==n&&(c.active=!1)}},e.plot=function(t,a,r){return new n(e(t),a,r,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,a){return this.each((function(){e.plot(this,t,a)}))}}(window.jQuery)},110:function(e,t){window.jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push((function(e,t,a){if(null==t.stack||!1===t.stack)return;const n=function(e,t){let a=null;for(let n=0;n<t.length&&e!=t[n];++n)t[n].stack==e.stack&&(a=t[n]);return a}(t,e.getData());if(!n)return;let r,o,l,i,s,c,u,h,m=a.pointsize,p=a.points,d=n.datapoints.pointsize,g=n.datapoints.points,f=[],x=t.lines.show,b=t.bars.horizontal,y=m>2&&(b?a.format[2].x:a.format[2].y),E=x&&t.lines.steps,v=b?1:0,k=b?0:1,w=0,S=0;for(;!(w>=p.length&&S>=g.length);){if(u=f.length,w<p.length&&null==p[w]){for(h=0;h<m;++h)f.push(p[w+h]);w+=m}else if(w>=p.length){for(h=0;h<m;++h)f.push(g[S+h]);y&&(f[u+2]=g[S+k]),S+=d}else if(S>=g.length){for(h=0;h<m;++h)f.push(p[w+h]);w+=m}else if(S<g.length&&null==g[S])S+=d;else{if(r=p[w+v],o=p[w+k],i=g[S+v],s=g[S+k],c=0,r==i){for(h=0;h<m;++h)f.push(p[w+h]);f[u+k]+=s,c=s,w+=m,S+=d}else if(r>i){if(0==w){for(h=0;h<m;++h)f.push(g[S+h]);c=s}if(w>0&&null!=p[w-m]){for(l=o+(p[w-m+k]-o)*(i-r)/(p[w-m+v]-r),f.push(i),f.push(l+s),h=2;h<m;++h)f.push(p[w+h]);c=s}S+=d}else{for(h=0;h<m;++h)f.push(p[w+h]);S>0&&null!=g[S-d]&&(c=s+(g[S-d+k]-s)*(r-i)/(g[S-d+v]-i)),f[u+k]+=c,w+=m}u!=f.length&&y&&(f[u+2]=c)}if(E&&u!=f.length&&u>0&&null!=f[u]&&f[u]!=f[u-m]&&f[u+1]!=f[u-m+1]){for(h=0;h<m;++h)f[u+m+h]=f[u+h];f[u+1]=f[u-m+1]}}a.points=f}))},options:{series:{stack:null}},name:"stack",version:"1.2"})},111:function(e,t){!function(e){function t(e,t){return t*Math.floor(e/t)}function a(e,t,a,n){if("function"==typeof e.strftime)return e.strftime(t);const r=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},o=[];let l=!1;const i=e.getHours(),s=i<12;let c;null==a&&(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),c=i>12?i-12:0==i?12:i;for(let u=0;u<t.length;++u){let h=t.charAt(u);if(l){switch(h){case"a":h=""+n[e.getDay()];break;case"b":h=""+a[e.getMonth()];break;case"d":h=r(e.getDate(),"");break;case"e":h=r(e.getDate()," ");break;case"h":case"H":h=r(i);break;case"I":h=r(c);break;case"l":h=r(c," ");break;case"m":h=r(e.getMonth()+1,"");break;case"M":h=r(e.getMinutes());break;case"q":h=""+(Math.floor(e.getMonth()/3)+1);break;case"S":h=r(e.getSeconds());break;case"y":h=r(e.getFullYear()%100);break;case"Y":h=""+e.getFullYear();break;case"p":h=s?"am":"pm";break;case"P":h=s?"AM":"PM";break;case"w":h=""+e.getDay()}o.push(h),l=!1}else"%"==h?l=!0:o.push(h)}return o.join("")}function n(e){function t(e,t,a,n){e[t]=function(){return a[n].apply(a,arguments)}}const a={date:e};void 0!=e.strftime&&t(a,"strftime",e,"strftime"),t(a,"getTime",e,"getTime"),t(a,"setTime",e,"setTime");const n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(let r=0;r<n.length;r++)t(a,"get"+n[r],e,"getUTC"+n[r]),t(a,"set"+n[r],e,"setUTC"+n[r]);return a}function r(e,t){return"browser"==t.timezone?new Date(e):(t.timezone&&t.timezone,n(new Date(e)))}const o={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],i=l.concat([[3,"month"],[6,"month"],[1,"year"]]),s=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(n){n.hooks.processOptions.push((function(n){e.each(n.getAxes(),(function(e,n){const l=n.options;"time"==l.mode&&(n.tickGenerator=function(e){const a=[],n=r(e.min,l);let c=0;const u=l.tickSize&&"quarter"===l.tickSize[1]||l.minTickSize&&"quarter"===l.minTickSize[1]?s:i;null!=l.minTickSize&&(c="number"==typeof l.tickSize?l.tickSize:l.minTickSize[0]*o[l.minTickSize[1]]);for(var h=0;h<u.length-1&&!(e.delta<(u[h][0]*o[u[h][1]]+u[h+1][0]*o[u[h+1][1]])/2&&u[h][0]*o[u[h][1]]>=c);++h);let m=u[h][0],p=u[h][1];if("year"==p){if(null!=l.minTickSize&&"year"==l.minTickSize[1])m=Math.floor(l.minTickSize[0]);else{const t=Math.pow(10,Math.floor(Math.log(e.delta/o.year)/Math.LN10)),a=e.delta/o.year/t;m=a<1.5?1:a<3?2:a<7.5?5:10,m*=t}m<1&&(m=1)}e.tickSize=l.tickSize||[m,p];const d=e.tickSize[0];p=e.tickSize[1];const g=d*o[p];"second"==p?n.setSeconds(t(n.getSeconds(),d)):"minute"==p?n.setMinutes(t(n.getMinutes(),d)):"hour"==p?n.setHours(t(n.getHours(),d)):"month"==p?n.setMonth(t(n.getMonth(),d)):"quarter"==p?n.setMonth(3*t(n.getMonth()/3,d)):"year"==p&&n.setFullYear(t(n.getFullYear(),d)),n.setMilliseconds(0),g>=o.minute&&n.setSeconds(0),g>=o.hour&&n.setMinutes(0),g>=o.day&&n.setHours(0),g>=4*o.day&&n.setDate(1),g>=2*o.month&&n.setMonth(t(n.getMonth(),3)),g>=2*o.quarter&&n.setMonth(t(n.getMonth(),6)),g>=o.year&&n.setMonth(0);let f,x=0,b=Number.NaN;do{if(f=b,b=n.getTime(),a.push(b),"month"==p||"quarter"==p)if(d<1){n.setDate(1);const e=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));const t=n.getTime();n.setTime(b+x*o.hour+(t-e)*d),x=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+d*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+d):n.setTime(b+g)}while(b<e.max&&b!=f);return a},n.tickFormatter=function(e,t){const n=r(e,t.options);if(null!=l.timeformat)return a(n,l.timeformat,l.monthNames,l.dayNames);const i=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],s=t.tickSize[0]*o[t.tickSize[1]],c=t.max-t.min,u=l.twelveHourClock?" %p":"",h=l.twelveHourClock?"%I":"%H";let m;return m=s<o.minute?h+":%M:%S"+u:s<o.day?c<2*o.day?h+":%M"+u:"%b %d "+h+":%M"+u:s<o.month?"%b %d":i&&s<o.quarter||!i&&s<o.year?c<o.year?"%b":"%b %Y":i&&s<o.year?c<o.year?"Q%q":"Q%q %Y":"%Y",a(n,m,l.monthNames,l.dayNames)})}))}))},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=a}(window.jQuery)},112:function(e,t){window.jQuery.plot.plugins.push({init:function(e){const t={x:-1,y:-1,locked:!1};function a(){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function n(a){if(t.locked)return;if(e.getSelection&&e.getSelection())return void(t.x=-1);const n=e.offset();t.x=Math.max(0,Math.min(a.pageX-n.left,e.width())),t.y=Math.max(0,Math.min(a.pageY-n.top,e.height())),e.triggerRedrawOverlay()}e.setCrosshair=function(a){if(a){const n=e.p2c(a);t.x=Math.max(0,Math.min(n.left,e.width())),t.y=Math.max(0,Math.min(n.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(a){a&&e.setCrosshair(a),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push((function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(a),t.mousemove(n))})),e.hooks.drawOverlay.push((function(e,a){const n=e.getOptions().crosshair;if(!n.mode)return;const r=e.getPlotOffset();if(a.save(),a.translate(r.left,r.top),-1!=t.x){const r=e.getOptions().crosshair.lineWidth%2?.5:0;if(a.strokeStyle=n.color,a.lineWidth=n.lineWidth,a.lineJoin="round",a.beginPath(),-1!=n.mode.indexOf("x")){const n=Math.floor(t.x)+r;a.moveTo(n,0),a.lineTo(n,e.height())}if(-1!=n.mode.indexOf("y")){const n=Math.floor(t.y)+r;a.moveTo(0,n),a.lineTo(e.width(),n)}a.stroke()}a.restore()})),e.hooks.shutdown.push((function(e,t){t.unbind("mouseout",a),t.unbind("mousemove",n)}))},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})},114:function(e,t,a){},118:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n);window.jQuery=r.a,window.moment=a(20);var o=a(0),l=a.n(o),i=a(24),s=a.n(i),c=a(7),u=a(13),h=a(123),m=a(124),p=a(125),d=a(126),g=a(127),f=a(128),x=a(147),b=a(148),y=a(129),E=a(130);var v=({pathPrefix:e,consolesLink:t})=>{const a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return l.a.createElement(h.a,{className:"mb-3",dark:!0,color:"dark",expand:"md",fixed:"top"},l.a.createElement(m.a,{onClick:()=>i(!r)}),l.a.createElement(u.a,{className:"pt-0 navbar-brand",to:"".concat(e,"/new/graph")},"Prometheus"),l.a.createElement(p.a,{isOpen:r,navbar:!0,style:{justifyContent:"space-between"}},l.a.createElement(d.a,{className:"ml-0",navbar:!0},null!==t&&l.a.createElement(g.a,null,l.a.createElement(f.a,{href:t},"Consoles")),l.a.createElement(g.a,null,l.a.createElement(f.a,{tag:u.a,to:"".concat(e,"/new/alerts")},"Alerts")),l.a.createElement(g.a,null,l.a.createElement(f.a,{tag:u.a,to:"".concat(e,"/new/graph")},"Graph")),l.a.createElement(x.a,{nav:!0,inNavbar:!0},l.a.createElement(b.a,{nav:!0,caret:!0},"Status"),l.a.createElement(y.a,null,l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/status")},"Runtime & Build Information"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/tsdb-status")},"TSDB Status"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/flags")},"Command-Line Flags"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/config")},"Configuration"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/rules")},"Rules"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/targets")},"Targets"),l.a.createElement(E.a,{tag:u.a,to:"".concat(e,"/new/service-discovery")},"Service Discovery"))),l.a.createElement(g.a,null,l.a.createElement(f.a,{href:"https://prometheus.io/docs/prometheus/latest/getting_started/"},"Help")),l.a.createElement(g.a,null,l.a.createElement(f.a,{href:"".concat(e,"/graph").concat(window.location.search)},"Classic UI")))))},k=a(145),w=(a(98),a(43)),S=a.n(w),T=a(15),C=a(57);const M=(e,t)=>{const a=Object(o.useState)({status:"start fetching"}),n=Object(c.a)(a,2),r=n[0],l=n[1],i=Object(o.useState)(),s=Object(c.a)(i,2),u=s[0],h=s[1],m=Object(o.useState)(!0),p=Object(c.a)(m,2),d=p[0],g=p[1];return Object(o.useEffect)(()=>{(function(){var a=Object(C.a)(S.a.mark((function a(){var n,r;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),a.prev=1,a.next=4,fetch(e,Object(T.a)({cache:"no-store",credentials:"same-origin"},t));case 4:if((n=a.sent).ok){a.next=7;break}throw new Error(n.statusText);case 7:return a.next=9,n.json();case 9:r=a.sent,l(r),g(!1),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),h(a.t0);case 17:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(){return a.apply(this,arguments)}})()()},[e,t]),{response:r,error:u,isLoading:d}};var O=a(31),N=a(131),P=a(16),_=a(10);const L=e=>t=>{let a=t.error,n=t.isLoading,r=t.customErrorMsg,o=t.componentTitle,i=Object(O.a)(t,["error","isLoading","customErrorMsg","componentTitle"]);return a?l.a.createElement(N.a,{color:"danger"},r||l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,"Error:")," Error fetching ",o||e.displayName,": ",a.message)):n?l.a.createElement(P.a,{size:"3x",icon:_.l,spin:!0,className:"position-absolute",style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}):l.a.createElement(e,i)};var z=a(142),F=a(137),I=a(17),R=a.n(I),j=a(138),D=a(139),W=a(140),A=a(141),H=a(54),q=a(132),B=a(133),U=a(60),V=a(134),Y=a(66),G=a(58),Q=a.n(G),$=a(59),K=a.n($);class X extends o.Component{constructor(e){super(e),this.exprInputRef=l.a.createRef(),this.setHeight=()=>{const e=this.exprInputRef.current,t=e.offsetHeight,a=e.clientHeight,n=e.scrollHeight,r=t-a;this.setState({height:n+r})},this.handleInput=()=>{this.setValue(this.exprInputRef.current.value)},this.setValue=e=>{(0,this.props.onExpressionChange)(e),this.setState({height:"auto"},this.setHeight)},this.handleKeyPress=e=>{const t=this.props.executeQuery;"Enter"!==e.key||e.shiftKey||(t(),e.preventDefault())},this.getSearchMatches=(e,t)=>Q.a.filter(e.replace(/ /g,""),t,{pre:"<strong>",post:"</strong>"}),this.createAutocompleteSection=e=>{const t=e.inputValue,a=void 0===t?"":t,n=e.closeMenu,r=e.highlightedIndex,o=this.props.autocompleteSections;let i=0;const s=a.length?Object.entries(o).reduce((t,[n,o])=>{const s=this.getSearchMatches(a,o);return s.length?[...t,l.a.createElement("ul",{className:"autosuggest-dropdown-list",key:n},l.a.createElement("li",{className:"autosuggest-dropdown-header"},n),s.slice(0,100).map(({original:t,string:a})=>{const o=e.getItemProps({key:t,index:i,item:t,style:{backgroundColor:r===i++?"lightgray":"white"}});return l.a.createElement("li",Object.assign({key:n},o,{dangerouslySetInnerHTML:{__html:K()(a,{allowedTags:["strong"]})}}))}))]:t},[]):[];return s.length?l.a.createElement("div",Object.assign({},e.getMenuProps(),{className:"autosuggest-dropdown"}),s):(setTimeout(n),null)},this.state={height:"auto"}}componentDidMount(){this.setHeight()}componentDidUpdate(e){const t=this.props.value;t!==e.value&&this.setValue(t)}render(){const e=this.props,t=e.executeQuery,a=e.value,n=this.state.height;return l.a.createElement(Y.a,{onSelect:this.setValue},e=>l.a.createElement("div",null,l.a.createElement(q.a,{className:"expression-input"},l.a.createElement(B.a,{addonType:"prepend"},l.a.createElement(U.a,null,this.props.loading?l.a.createElement(P.a,{icon:_.l,spin:!0}):l.a.createElement(P.a,{icon:_.k}))),l.a.createElement(V.a,Object.assign({onInput:this.handleInput,style:{height:n},autoFocus:!0,type:"textarea",rows:"1",onKeyPress:this.handleKeyPress,placeholder:"Expression (press Shift+Enter for newlines)",innerRef:this.exprInputRef},e.getInputProps({onKeyDown:t=>{switch(t.key){case"Home":case"End":t.nativeEvent.preventDownshiftDefault=!0;break;case"ArrowUp":case"ArrowDown":e.isOpen||(t.nativeEvent.preventDownshiftDefault=!0);break;case"Enter":e.closeMenu();break;case"Escape":e.isOpen||this.exprInputRef.current.blur()}}}),{value:a})),l.a.createElement(B.a,{addonType:"append"},l.a.createElement(H.a,{className:"execute-btn",color:"primary",onClick:t},"Execute"))),e.isOpen&&this.createAutocompleteSection(e)))}}var J=X,Z=a(27),ee=a(135),te=a(136),ae=(a(106),a(107),a(108),a(33));ae.c.add(_.g,_.h,_.c,_.b,_.a,_.m),ae.a.watch();class ne extends o.Component{constructor(...e){super(...e),this.timeInputRef=l.a.createRef(),this.$time=null,this.getBaseTime=()=>this.props.time||R()().valueOf(),this.calcShiftRange=()=>1e3*this.props.range/2,this.increaseTime=()=>{const e=this.getBaseTime()+this.calcShiftRange();this.props.onChangeTime(e)},this.decreaseTime=()=>{const e=this.getBaseTime()-this.calcShiftRange();this.props.onChangeTime(e)},this.clearTime=()=>{this.props.onChangeTime(null)},this.timezone=()=>this.props.useLocalTime?R.a.tz.guess():"UTC"}componentDidMount(){this.$time=r()(this.timeInputRef.current),this.$time.datetimepicker({icons:{today:"fas fa-calendar-check"},buttons:{showClose:!0,showToday:!0},sideBySide:!0,format:"YYYY-MM-DD HH:mm:ss",locale:"en",timeZone:this.timezone(),defaultDate:this.props.time}),this.$time.on("change.datetimepicker",e=>{e.date&&this.props.onChangeTime(e.date.valueOf())})}componentWillUnmount(){this.$time.datetimepicker("destroy")}componentDidUpdate(e){const t=this.props,a=t.time,n=t.useLocalTime;e.time!==a&&this.$time.datetimepicker("date",a?R()(a):null),e.useLocalTime!==n&&this.$time.datetimepicker("options",{timeZone:this.timezone(),defaultDate:null})}render(){return l.a.createElement(q.a,{className:"time-input",size:"sm"},l.a.createElement(B.a,{addonType:"prepend"},l.a.createElement(H.a,{title:"Decrease time",onClick:this.decreaseTime},l.a.createElement(P.a,{icon:_.g,fixedWidth:!0}))),l.a.createElement(V.a,{placeholder:this.props.placeholder,innerRef:this.timeInputRef,onFocus:()=>this.$time.datetimepicker("show"),onBlur:()=>this.$time.datetimepicker("hide"),onKeyDown:e=>["Escape","Enter"].includes(e.key)&&this.$time.datetimepicker("hide")}),this.props.time&&l.a.createElement(B.a,{addonType:"append"},l.a.createElement(H.a,{className:"clear-time-btn",title:"Clear time",onClick:this.clearTime},l.a.createElement(P.a,{icon:_.m,fixedWidth:!0}))),l.a.createElement(B.a,{addonType:"append"},l.a.createElement(H.a,{title:"Increase time",onClick:this.increaseTime},l.a.createElement(P.a,{icon:_.h,fixedWidth:!0}))))}}var re=ne;class oe extends o.Component{constructor(...e){super(...e),this.rangeRef=l.a.createRef(),this.resolutionRef=l.a.createRef(),this.rangeSteps=[1,10,60,300,900,1800,3600,7200,21600,43200,86400,172800,604800,1209600,2419200,4838400,31536e3,63072e3],this.onChangeRangeInput=e=>{const t=_e(e);null===t?this.changeRangeInput(this.props.range):this.props.onChangeRange(t)},this.changeRangeInput=e=>{this.rangeRef.current.value=Le(e)},this.increaseRange=()=>{var e,t=Object(Z.a)(this.rangeSteps);try{for(t.s();!(e=t.n()).done;){const t=e.value;if(this.props.range<t)return this.changeRangeInput(t),void this.props.onChangeRange(t)}}catch(a){t.e(a)}finally{t.f()}},this.decreaseRange=()=>{var e,t=Object(Z.a)(this.rangeSteps.slice().reverse());try{for(t.s();!(e=t.n()).done;){const t=e.value;if(this.props.range>t)return this.changeRangeInput(t),void this.props.onChangeRange(t)}}catch(a){t.e(a)}finally{t.f()}}}componentDidUpdate(e){e.range!==this.props.range&&this.changeRangeInput(this.props.range),e.resolution!==this.props.resolution&&(this.resolutionRef.current.value=null!==this.props.resolution?this.props.resolution.toString():"")}render(){return l.a.createElement(ee.a,{inline:!0,className:"graph-controls",onSubmit:e=>e.preventDefault()},l.a.createElement(q.a,{className:"range-input",size:"sm"},l.a.createElement(B.a,{addonType:"prepend"},l.a.createElement(H.a,{title:"Decrease range",onClick:this.decreaseRange},l.a.createElement(P.a,{icon:_.i,fixedWidth:!0}))),l.a.createElement(V.a,{defaultValue:Le(this.props.range),innerRef:this.rangeRef,onBlur:()=>this.onChangeRangeInput(this.rangeRef.current.value)}),l.a.createElement(B.a,{addonType:"append"},l.a.createElement(H.a,{title:"Increase range",onClick:this.increaseRange},l.a.createElement(P.a,{icon:_.j,fixedWidth:!0})))),l.a.createElement(re,{time:this.props.endTime,useLocalTime:this.props.useLocalTime,range:this.props.range,placeholder:"End time",onChangeTime:this.props.onChangeEndTime}),l.a.createElement(V.a,{placeholder:"Res. (s)",className:"resolution-input",defaultValue:null!==this.props.resolution?this.props.resolution.toString():"",innerRef:this.resolutionRef,onBlur:()=>{const e=parseInt(this.resolutionRef.current.value);this.props.onChangeResolution(e||null)},bsSize:"sm"}),l.a.createElement(te.a,{className:"stacked-input",size:"sm"},l.a.createElement(H.a,{title:"Show unstacked line graph",onClick:()=>this.props.onChangeStacking(!1),active:!this.props.stacked},l.a.createElement(P.a,{icon:_.e,fixedWidth:!0})),l.a.createElement(H.a,{title:"Show stacked graph",onClick:()=>this.props.onChangeStacking(!0),active:this.props.stacked},l.a.createElement(P.a,{icon:_.d,fixedWidth:!0}))))}}var le=oe,ie=a(65);var se=({labels:e,format:t})=>null===e?l.a.createElement(l.a.Fragment,null,"scalar"):t?(()=>{const t=[];let a=!0;for(const n in e)"__name__"!==n&&(t.push(l.a.createElement("span",{key:n},!a&&", ",l.a.createElement("span",{className:"legend-label-name"},n),"=",l.a.createElement("span",{className:"legend-label-value"},'"',e[n],'"'))),a&&(a=!1));return l.a.createElement("div",null,l.a.createElement("span",{className:"legend-metric-name"},e.__name__||""),l.a.createElement("span",{className:"legend-label-brace"},"{"),t,l.a.createElement("span",{className:"legend-label-brace"},"}"))})():l.a.createElement(l.a.Fragment,null,Ne(e));class ce extends o.PureComponent{constructor(...e){super(...e),this.state={selectedIndexes:[]},this.handleSeriesSelect=e=>t=>{const a=this.state.selectedIndexes;let n=[e];if(t.ctrlKey||t.metaKey){const t=this.props.chartData;n=a.includes(e)?a.filter(t=>t!==e):0===a.length?t.reduce((t,a,n)=>n===e?t:[...t,n],[]):[...a,e]}else 1===a.length&&a.includes(e)&&(n=[]);this.setState({selectedIndexes:n}),this.props.onSeriesToggle(n,e)}}componentDidUpdate(e){this.props.shouldReset&&e.shouldReset!==this.props.shouldReset&&this.setState({selectedIndexes:[]})}render(){const e=this.props,t=e.chartData,a=e.onLegendMouseOut,n=e.onHover,r=this.state.selectedIndexes,o=t.length>1&&0===r.length;return l.a.createElement("div",{className:"graph-legend",onMouseOut:o?a:void 0},t.map(({index:e,color:a,labels:i})=>l.a.createElement("div",{style:{opacity:0===r.length||r.includes(e)?1:.5},onClick:t.length>1?this.handleSeriesSelect(e):void 0,onMouseOver:o?n(e):void 0,key:e,className:"legend-item"},l.a.createElement("span",{className:"legend-swatch",style:{backgroundColor:a}}),l.a.createElement(se,{labels:i,format:!0}))),t.length>1&&l.a.createElement("div",{className:"pl-1 mt-1 text-muted",style:{fontSize:13}},"Click: select series, ",navigator.platform.includes("Mac")?"CMD":"CTRL"," + click: toggle multiple series"))}}const ue=e=>{if(null===e)return"null";const t=Math.abs(e);if(t>=1e24)return(e/1e24).toFixed(2)+"Y";if(t>=1e21)return(e/1e21).toFixed(2)+"Z";if(t>=1e18)return(e/1e18).toFixed(2)+"E";if(t>=1e15)return(e/1e15).toFixed(2)+"P";if(t>=1e12)return(e/1e12).toFixed(2)+"T";if(t>=1e9)return(e/1e9).toFixed(2)+"G";if(t>=1e6)return(e/1e6).toFixed(2)+"M";if(t>=1e3)return(e/1e3).toFixed(2)+"k";if(t>=1)return e.toFixed(2);if(0===t)return e.toFixed(2);if(t<1e-23)return(e/1e-24).toFixed(2)+"y";if(t<1e-20)return(e/1e-21).toFixed(2)+"z";if(t<1e-17)return(e/1e-18).toFixed(2)+"a";if(t<1e-14)return(e/1e-15).toFixed(2)+"f";if(t<1e-11)return(e/1e-12).toFixed(2)+"p";if(t<1e-8)return(e/1e-9).toFixed(2)+"n";if(t<1e-5)return(e/1e-6).toFixed(2)+"\xb5";if(t<.01)return(e/.001).toFixed(2)+"m";if(t<=1)return e.toFixed(2);throw Error("couldn't format a value, this is a bug")},he=(e,t,a)=>{const n=r.a.color.parse(e),o=n.r,l=n.g,i=n.b;if(!a)return"rgba(".concat(o,", ").concat(l,", ").concat(i,", ").concat(t,")");const s=255*(1-t);return"rgb(".concat(Math.round(s+t*o),",").concat(Math.round(s+t*l),",").concat(Math.round(s+t*i),")")},me=(e,t)=>(a,n)=>Object(T.a)({},a,{color:he(a.color,n!==e?.3:1,t)}),pe=({queryParams:e,data:t})=>{const a=(e=>{const t=["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],a=t.length;let n=0;return e.result.map((e,o)=>(o%a===0&&o&&(n=n>=0?n<.5?-n-.2:0:-n),r.a.color.parse(t[o%a]||"#666").scale("rgb",1+n)))})(t),n=e,o=n.startTime,l=n.endTime,i=n.resolution;return t.result.map(({values:e,metric:t},n)=>{const r=[];let s=0;for(let a=o;a<=l;a+=i){const t=e[s];e.length>s&&t[0]<a+i/100?(r.push([1e3*t[0],de(t[1])]),s++):r.push([1e3*a,null])}return{labels:null!==t?t:{},color:a[n].toString(),data:r,index:n}})},de=e=>{const t=parseFloat(e);return isNaN(t)?null:t};a(109),a(110),a(111),a(112),a(113);class ge extends o.PureComponent{constructor(...e){super(...e),this.chartRef=l.a.createRef(),this.$chart=void 0,this.rafID=0,this.selectedSeriesIndexes=[],this.state={chartData:pe(this.props)},this.plot=(e=this.state.chartData)=>{var t,a;this.chartRef.current&&(this.destroyPlot(),this.$chart=r.a.plot(r()(this.chartRef.current),e,(t=this.props.stacked,{grid:{hoverable:!0,clickable:!0,autoHighlight:!0,mouseActiveRadius:100},legend:{show:!1},xaxis:{mode:"time",showTicks:!0,showMinorTicks:!0,timeBase:"milliseconds",timezone:(a=this.props.useLocalTime)?"browser":void 0},yaxis:{tickFormatter:ue},crosshair:{mode:"xy",color:"#bbb"},tooltip:{show:!0,cssClass:"graph-tooltip",content:(e,t,n,{series:r})=>{const o=r.labels,l=r.color;let i=R()(t);return a||(i=i.utc()),'\n            <div class="date">'.concat(i.format("YYYY-MM-DD HH:mm:ss Z"),'</div>\n            <div>\n              <span class="detail-swatch" style="background-color: ').concat(l,'" />\n              <span>').concat(o.__name__||"value",": <strong>").concat(n,'</strong></span>\n            <div>\n            <div class="labels mt-1">\n              ').concat(Object.keys(o).map(e=>"__name__"!==e?'<div class="mb-1"><strong>'.concat(e,"</strong>: ").concat(Oe(o[e]),"</div>"):"").join(""),"\n            </div>\n          ")},defaultTheme:!1,lines:!0},series:{stack:t,lines:{lineWidth:t?1:2,steps:!1,fill:t},shadowSize:0}})))},this.destroyPlot=()=>{Me(this.$chart)&&this.$chart.destroy()},this.handleSeriesSelect=(e,t)=>{const a=this.state.chartData;this.plot(1===this.selectedSeriesIndexes.length&&this.selectedSeriesIndexes.includes(t)?a.map(me(t,this.props.stacked)):a.filter((t,a)=>e.includes(a))),this.selectedSeriesIndexes=e},this.handleSeriesHover=e=>()=>{this.rafID&&cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>{this.plotSetAndDraw(this.state.chartData.map(me(e,this.props.stacked)))})},this.handleLegendMouseOut=()=>{cancelAnimationFrame(this.rafID),this.plotSetAndDraw()},this.handleResize=()=>{Me(this.$chart)&&this.plot(this.$chart.getData())}}componentDidUpdate(e){const t=this.props,a=t.data,n=t.stacked,r=t.useLocalTime;e.data!==a?(this.selectedSeriesIndexes=[],this.setState({chartData:pe(this.props)},this.plot)):e.stacked!==n&&this.setState({chartData:pe(this.props)},()=>{0===this.selectedSeriesIndexes.length?this.plot():this.plot(this.state.chartData.filter((e,t)=>this.selectedSeriesIndexes.includes(t)))}),e.useLocalTime!==r&&this.plot()}componentDidMount(){this.plot()}componentWillUnmount(){this.destroyPlot()}plotSetAndDraw(e=this.state.chartData){Me(this.$chart)&&(this.$chart.setData(e),this.$chart.draw())}render(){const e=this.state.chartData;return l.a.createElement("div",{className:"graph"},l.a.createElement(ie.a,{handleWidth:!0,onResize:this.handleResize,skipOnMount:!0}),l.a.createElement("div",{className:"graph-chart",ref:this.chartRef}),l.a.createElement(ce,{shouldReset:0===this.selectedSeriesIndexes.length,chartData:e,onHover:this.handleSeriesHover,onLegendMouseOut:this.handleLegendMouseOut,onSeriesToggle:this.handleSeriesSelect}))}}var fe=ge;const xe=({data:e,stacked:t,useLocalTime:a,lastQueryParams:n})=>Me(e)?0===e.result.length?l.a.createElement(N.a,{color:"secondary"},"Empty query result"):"matrix"!==e.resultType?l.a.createElement(N.a,{color:"danger"},"Query result is of wrong type '",e.resultType,"', should be 'matrix' (range vector)."):l.a.createElement(fe,{data:e,stacked:t,useLocalTime:a,queryParams:n}):l.a.createElement(N.a,{color:"light"},"No data queried yet"),be=e=>e.length>1e4?e.slice(0,1e4):e;var ye=({data:e})=>{if(null===e)return l.a.createElement(N.a,{color:"light"},"No data queried yet");if(null===e.result||0===e.result.length)return l.a.createElement(N.a,{color:"secondary"},"Empty query result");let t=[],a=!1;const n=e.result.length<=1e3;switch(e.resultType){case"vector":t=be(e.result).map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(se,{labels:e.metric,format:n})),l.a.createElement("td",null,e.value[1]))),a=t.length!==e.result.length;break;case"matrix":t=be(e.result).map((e,t)=>{const a=e.values.map(e=>e[1]+" @"+e[0]).join("\n");return l.a.createElement("tr",{style:{whiteSpace:"pre"},key:t},l.a.createElement("td",null,l.a.createElement(se,{labels:e.metric,format:n})),l.a.createElement("td",null,a))}),a=t.length!==e.result.length;break;case"scalar":t.push(l.a.createElement("tr",{key:"0"},l.a.createElement("td",null,"scalar"),l.a.createElement("td",null,e.result[1])));break;case"string":t.push(l.a.createElement("tr",{key:"0"},l.a.createElement("td",null,"string"),l.a.createElement("td",null,e.result[1])));break;default:return l.a.createElement(N.a,{color:"danger"},"Unsupported result value type")}return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(N.a,{color:"danger"},l.a.createElement("strong",null,"Warning:")," Fetched ",e.result.length," metrics, only displaying first ",t.length,"."),!n&&l.a.createElement(N.a,{color:"secondary"},l.a.createElement("strong",null,"Notice:")," Showing more than ",1e3," series, turning off label formatting for performance reasons."),l.a.createElement(F.a,{hover:!0,size:"sm",className:"data-table"},l.a.createElement("tbody",null,t)))};a(114);var Ee=e=>{const t=e.loadTime,a=e.resolution,n=e.resultSeries;return l.a.createElement("div",{className:"query-stats"},l.a.createElement("span",{className:"float-right"},"Load time: ",t,"ms \u2002 Resolution: ",a,"s \u2002 Result series: ",n))};let ve;!function(e){e.Graph="graph",e.Table="table"}(ve||(ve={}));const ke={type:ve.Table,expr:"",range:3600,endTime:null,resolution:null,stacked:!1};class we extends o.Component{constructor(e){super(e),this.abortInFlightFetch=null,this.executeQuery=()=>{const e=this.state.exprInputValue,t=Date.now();if(this.props.onExecuteQuery(e),this.props.options.expr!==e&&this.setOptions({expr:e}),""===e)return;this.abortInFlightFetch&&(this.abortInFlightFetch(),this.abortInFlightFetch=null);const a=new AbortController;this.abortInFlightFetch=()=>a.abort(),this.setState({loading:!0});const n=this.getEndTime().valueOf()/1e3,r=n-this.props.options.range,o=this.props.options.resolution||Math.max(Math.floor(this.props.options.range/250),1),l=new URLSearchParams({query:e});let i;switch(this.props.options.type){case"graph":i="/api/v1/query_range",l.append("start",r.toString()),l.append("end",n.toString()),l.append("step",o.toString());break;case"table":i="/api/v1/query",l.append("time",n.toString());break;default:throw new Error('Invalid panel type "'+this.props.options.type+'"')}fetch("".concat(this.props.pathPrefix).concat(i,"?").concat(l),{cache:"no-store",credentials:"same-origin",signal:a.signal}).then(e=>e.json()).then(e=>{if("success"!==e.status)throw new Error(e.error||"invalid response JSON");let a=0;if(e.data){const t=e.data,n=t.resultType,r=t.result;"scalar"===n?a=1:r&&r.length>0&&(a=r.length)}this.setState({error:null,data:e.data,lastQueryParams:{startTime:r,endTime:n,resolution:o},stats:{loadTime:Date.now()-t,resolution:o,resultSeries:a},loading:!1}),this.abortInFlightFetch=null}).catch(e=>{"AbortError"!==e.name&&this.setState({error:"Error executing query: "+e.message,loading:!1})})},this.handleExpressionChange=e=>{this.setState({exprInputValue:e})},this.handleChangeRange=e=>{this.setOptions({range:e})},this.getEndTime=()=>null===this.props.options.endTime?R()():this.props.options.endTime,this.handleChangeEndTime=e=>{this.setOptions({endTime:e})},this.handleChangeResolution=e=>{this.setOptions({resolution:e})},this.handleChangeType=e=>{this.props.options.type!==e&&(this.setState({data:null}),this.setOptions({type:e}))},this.handleChangeStacking=e=>{this.setOptions({stacked:e})},this.state={data:null,lastQueryParams:null,loading:!1,error:null,stats:null,exprInputValue:e.options.expr}}componentDidUpdate({options:e}){const t=this.props.options,a=t.endTime,n=t.range,r=t.resolution,o=t.type;e.endTime===a&&e.range===n&&e.resolution===r&&e.type===o||this.executeQuery()}componentDidMount(){this.executeQuery()}setOptions(e){const t=Object(T.a)({},this.props.options,{},e);this.props.onOptionsChanged(t)}render(){const e=this.props,t=e.pastQueries,a=e.metricNames,n=e.options;return l.a.createElement("div",{className:"panel"},l.a.createElement(j.a,null,l.a.createElement(D.a,null,l.a.createElement(J,{value:this.state.exprInputValue,onExpressionChange:this.handleExpressionChange,executeQuery:this.executeQuery,loading:this.state.loading,autocompleteSections:{"Query History":t,"Metric Names":a}}))),l.a.createElement(j.a,null,l.a.createElement(D.a,null,this.state.error&&l.a.createElement(N.a,{color:"danger"},this.state.error))),l.a.createElement(j.a,null,l.a.createElement(D.a,null,l.a.createElement(d.a,{tabs:!0},l.a.createElement(g.a,null,l.a.createElement(f.a,{className:"table"===n.type?"active":"",onClick:()=>this.handleChangeType(ve.Table)},"Table")),l.a.createElement(g.a,null,l.a.createElement(f.a,{className:"graph"===n.type?"active":"",onClick:()=>this.handleChangeType(ve.Graph)},"Graph")),!this.state.loading&&!this.state.error&&this.state.stats&&l.a.createElement(Ee,this.state.stats)),l.a.createElement(W.a,{activeTab:n.type},l.a.createElement(A.a,{tabId:"table"},"table"===n.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-controls"},l.a.createElement(re,{time:n.endTime,useLocalTime:this.props.useLocalTime,range:n.range,placeholder:"Evaluation time",onChangeTime:this.handleChangeEndTime})),l.a.createElement(ye,{data:this.state.data}))),l.a.createElement(A.a,{tabId:"graph"},"graph"===this.props.options.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement(le,{range:n.range,endTime:n.endTime,useLocalTime:this.props.useLocalTime,resolution:n.resolution,stacked:n.stacked,onChangeRange:this.handleChangeRange,onChangeEndTime:this.handleChangeEndTime,onChangeResolution:this.handleChangeResolution,onChangeStacking:this.handleChangeStacking}),l.a.createElement(xe,{data:this.state.data,stacked:n.stacked,useLocalTime:this.props.useLocalTime,lastQueryParams:this.state.lastQueryParams})))))),l.a.createElement(j.a,null,l.a.createElement(D.a,null,l.a.createElement(H.a,{className:"float-right",color:"link",onClick:this.props.removePanel,size:"sm"},"Remove Panel"))))}}var Se=we;const Te=()=>"_".concat(Math.random().toString(36).substr(2,9)),Ce=e=>e.length>0,Me=e=>null!==e&&void 0!==e,Oe=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,(function(e){return t[e]}))},Ne=e=>{if(null===e)return"scalar";let t=(e.__name__||"")+"{";const a=[];for(const n in e)"__name__"!==n&&a.push(n+'="'+e[n]+'"');return t+=a.join(", ")+"}",t},Pe={y:31536e3,w:604800,d:86400,h:3600,m:60,s:1};function _e(e){const t=new RegExp("^([0-9]+)([ywdhms]+)$"),a=e.match(t);if(!a||3!==a.length)return null;const n=parseInt(a[1]),r=a[2];return n*Pe[r]}function Le(e){for(var t=0,a=Object.keys(Pe);t<a.length;t++){const n=a[t];if(e%Pe[n]===0)return e/Pe[n]+n}return e+"s"}function ze(e){return R.a.utc(e).valueOf()}const Fe=e=>{const t=e<0?"-":"",a=e<0?-1*e:e,n=R.a.duration(a,"ms"),r=Math.floor(n.milliseconds()),o=Math.floor(n.seconds()),l=Math.floor(n.minutes()),i=Math.floor(n.hours()),s=Math.floor(n.asDays());return 0!==s?"".concat(t).concat(s,"d ").concat(i,"h ").concat(l,"m ").concat(o,"s"):0!==i?"".concat(t).concat(i,"h ").concat(l,"m ").concat(o,"s"):0!==l?"".concat(t).concat(l,"m ").concat(o,"s"):0!==o?"".concat(t).concat(o,".").concat(r,"s"):a>0?"".concat(t).concat(a.toFixed(3),"ms"):"0s"},Ie=(e,t)=>{const a=ze(e);return a<0?"Never":Fe(t-a)},Re=/^g\d+\..+=.+$/,je=e=>{if(""===e)return[];const t=e.substring(1).split("&");return t.reduce((e,a,n)=>{const r=e.length,o="g".concat(r,".");if(a.startsWith("".concat(o,"expr="))){const a=o.length;return[...e,{id:Te(),key:"".concat(r),options:t.slice(n).reduce((e,t)=>t.startsWith(o)&&Re.test(t)?Object(T.a)({},e,{},De(t.substring(a))):e,ke)}]}return e},[])},De=e=>{const t=e.split("="),a=Object(c.a)(t,2),n=a[0],r=a[1],o=decodeURIComponent(r.replace(/\+/g," "));switch(n){case"expr":return{expr:o};case"tab":return{type:"0"===o?ve.Graph:ve.Table};case"stacked":return{stacked:"1"===o};case"range_input":const e=_e(o);return Me(e)?{range:e}:{};case"end_input":case"moment_input":return{endTime:ze(o)};case"step_input":const t=parseInt(o);return t>0?{resolution:t}:{}}return{}},We=({key:e,options:t})=>{const a=(e=>(t,a)=>"g".concat(e,".").concat(t,"=").concat(encodeURIComponent(a)))(e),n=t.expr,r=t.type,o=t.stacked,l=t.range,i=t.endTime,s=t.resolution,c=!!Me(i)&&function(e){return R.a.utc(e).format("YYYY-MM-DD HH:mm:ss")}(i);return[a("expr",n),a("tab",r===ve.Graph?0:1),a("stacked",o?1:0),a("range_input",Le(l)),c?"".concat(a("end_input",c),"&").concat(a("moment_input",c)):"",Me(s)?a("step_input",s):""].filter(Ce).join("&")},Ae=e=>"../graph?g0.expr=".concat(encodeURIComponent(e),"&g0.tab=1&g0.stacked=0&g0.range_input=1h"),He=(e,t)=>Object.entries(e).map(t),qe=(...e)=>(...t)=>{e.filter(Boolean).forEach(e=>e.apply(null,t))},Be={firing:"danger",pending:"warning",inactive:"success"},Ue=({annotations:e})=>l.a.createElement(o.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},l.a.createElement("h5",{className:"font-weight-bold"},"Annotations"))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:4},Object.entries(e).map(([e,t],a)=>l.a.createElement("div",{key:a},l.a.createElement("strong",null,e),l.a.createElement("div",null,t))))));var Ve=({rule:e,showAnnotations:t})=>{const a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{fade:!1,onClick:()=>i(!r),color:Be[e.state],style:{cursor:"pointer"}},l.a.createElement(P.a,{icon:r?_.f:_.h,fixedWidth:!0}),l.a.createElement("strong",null,e.name)," (","".concat(e.alerts.length," active"),")"),l.a.createElement(p.a,{isOpen:r,className:"mb-2"},l.a.createElement("pre",{style:{background:"#f5f5f5",padding:15}},l.a.createElement("code",null,l.a.createElement("div",null,"name: ",l.a.createElement(u.a,{to:Ae('ALERTS{alertname="'.concat(e.name,'"}'))},e.name)),l.a.createElement("div",null,"expr: ",l.a.createElement(u.a,{to:Ae(e.query)},e.query)),l.a.createElement("div",null,l.a.createElement("div",null,"labels:"),l.a.createElement("div",{className:"ml-5"},"severity: ",e.labels.severity)),l.a.createElement("div",null,l.a.createElement("div",null,"annotations:"),l.a.createElement("div",{className:"ml-5"},"summary: ",e.annotations.summary)))),e.alerts.length>0&&l.a.createElement(F.a,{bordered:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Labels"),l.a.createElement("th",null,"State"),l.a.createElement("th",null,"Active Since"),l.a.createElement("th",null,"Value"))),l.a.createElement("tbody",null,e.alerts.map((e,a)=>l.a.createElement(o.Fragment,{key:a},l.a.createElement("tr",null,l.a.createElement("td",{style:{verticalAlign:"middle"}},Object.entries(e.labels).map(([e,t],a)=>l.a.createElement(z.a,{key:a,color:"primary",className:"mr-1"},e,"=",t))),l.a.createElement("td",null,l.a.createElement("h5",{className:"m-0"},l.a.createElement(z.a,{color:Be[e.state]+" text-uppercase",className:"px-3"},e.state))),l.a.createElement("td",null,e.activeAt),l.a.createElement("td",null,e.value)),t&&l.a.createElement(Ue,{annotations:e.annotations})))))))},Ye=a(143),Ge=a(144);var Qe=Object(o.memo)(e=>{let t=e.children,a=e.wrapperStyles,n=e.id,r=Object(O.a)(e,["children","wrapperStyles","id"]);return l.a.createElement(Ye.a,{className:"custom-control custom-checkbox",style:a},l.a.createElement(V.a,Object.assign({},r,{id:n,type:"checkbox",className:"custom-control-input"})),l.a.createElement(Ge.a,{style:{userSelect:"none"},className:"custom-control-label",for:n},t))});const $e=[["inactive","success"],["pending","warning"],["firing","danger"]],Ke=({groups:e=[],statsCount:t})=>{const a=Object(o.useState)({firing:!0,pending:!0,inactive:!0}),n=Object(c.a)(a,2),r=n[0],i=n[1],s=Object(o.useState)(!1),u=Object(c.a)(s,2),h=u[0],m=u[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex togglers-wrapper"},$e.map(([e,a])=>{return l.a.createElement(Qe,{key:e,wrapperStyles:{marginRight:10},defaultChecked:!0,id:"".concat(e,"-toggler"),onClick:(n=e,()=>{i(Object(T.a)({},r,{[n]:!r[n]}))})},l.a.createElement(z.a,{color:a,className:"text-capitalize"},e," (",t[e],")"));var n}),l.a.createElement(Qe,{wrapperStyles:{marginLeft:"auto"},id:"show-annotations-toggler",onClick:()=>m(!h)},l.a.createElement("span",{style:{fontSize:"0.9rem",lineHeight:1.9}},"Show annotations"))),e.map((e,t)=>e.rules.some(e=>r[e.state])?l.a.createElement(o.Fragment,{key:t},l.a.createElement(Xe,{rules:e.rules},e.file," > ",e.name),e.rules.map((e,t)=>r[e.state]&&l.a.createElement(Ve,{key:e.name+t,showAnnotations:h,rule:e}))):null))},Xe=({rules:e,children:t})=>{const a=e.reduce((e,t)=>Object(T.a)({},e,{[t.state]:e[t.state]+t.alerts.length}),{firing:0,pending:0});return l.a.createElement("div",{className:"group-info border rounded-sm",style:{lineHeight:1.1}},t,l.a.createElement("div",{className:"badges-wrapper"},Me(a.inactive)&&l.a.createElement(z.a,{color:"success"},"inactive"),a.pending>0&&l.a.createElement(z.a,{color:"warning"},"pending (",a.pending,")"),a.firing>0&&l.a.createElement(z.a,{color:"danger"},"firing (",a.firing,")")))};Ke.displayName="Alerts";const Je=L(Ke);var Ze=({pathPrefix:e=""})=>{const t=M("".concat(e,"/api/v1/rules?type=alert")),a=t.response,n=t.error,r=t.isLoading,o={inactive:0,pending:0,firing:0};return a.data&&a.data.groups&&a.data.groups.forEach(e=>e.rules.forEach(e=>o[e.state]++)),l.a.createElement(Je,Object.assign({statsCount:o},a.data,{error:n,isLoading:r}))},et=a(63),tt=a.n(et);a(118);const at=({yaml:e})=>l.a.createElement("pre",{className:"config-yaml"},e);at.displayName="Config";const nt=L(at),rt=({error:e,data:t})=>{const a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1],s=t&&t.yaml;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Configuration\xa0",l.a.createElement(tt.a,{text:s,onCopy:(e,t)=>{i(t),setTimeout(i,1500)}},l.a.createElement(H.a,{color:"light",disabled:!s},r?"Copied":"Copy to clipboard"))),l.a.createElement(nt,{error:e,isLoading:!s,yaml:s}))};var ot=({pathPrefix:e})=>{const t=M("".concat(e,"/api/v1/status/config")),a=t.response,n=t.error;return l.a.createElement(rt,{error:n,data:a.data})};const lt=({data:e={}})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Command-Line Flags"),l.a.createElement(F.a,{bordered:!0,size:"sm",striped:!0},l.a.createElement("tbody",null,Object.keys(e).map(t=>l.a.createElement("tr",{key:t},l.a.createElement("th",null,t),l.a.createElement("td",null,e[t])))))),it=L(lt);lt.displayName="Flags";var st=({pathPrefix:e=""})=>{const t=M("".concat(e,"/api/v1/status/flags")),a=t.response,n=t.error,r=t.isLoading;return l.a.createElement(it,{data:a.data,error:n,isLoading:r})},ct=a(20);const ut=e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,e.title,":"),l.a.createElement(u.a,{className:"ml-4",to:Ae(e.expr)},e.expr),l.a.createElement("br",null)),ht=L(({response:e})=>{const t=e=>{switch(e){case"ok":return"success";case"err":return"danger";case"unknown":return"warning"}};if(e.data){const a=e.data.groups;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Rules"),a.map((e,a)=>l.a.createElement(F.a,{bordered:!0,key:a},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("a",{href:"#"+e.name},l.a.createElement("h2",{id:e.name},e.name))),l.a.createElement("td",null,l.a.createElement("h2",null,Ie(e.lastEvaluation,Object(ct.now)())," ago")),l.a.createElement("td",null,l.a.createElement("h2",null,Fe(1e3*parseFloat(e.evaluationTime)))))),l.a.createElement("tbody",null,l.a.createElement("tr",{className:"font-weight-bold"},l.a.createElement("td",null,"Rule"),l.a.createElement("td",null,"State"),l.a.createElement("td",null,"Error"),l.a.createElement("td",null,"Last Evaluation"),l.a.createElement("td",null,"Evaluation Time")),e.rules.map((e,a)=>l.a.createElement("tr",{key:a},e.alerts?l.a.createElement("td",{style:{backgroundColor:"#F5F5F5"},className:"rule_cell"},l.a.createElement(ut,{title:"alert",expr:e.name}),l.a.createElement(ut,{title:"expr",expr:e.query}),l.a.createElement("div",null,l.a.createElement("strong",null,"labels:"),Object.entries(e.labels).map(([e,t])=>l.a.createElement("div",{className:"ml-4",key:e},e,": ",t))),l.a.createElement("div",null,l.a.createElement("strong",null,"annotations:"),Object.entries(e.annotations).map(([e,t])=>l.a.createElement("div",{className:"ml-4",key:e},e,": ",t)))):l.a.createElement("td",{style:{backgroundColor:"#F5F5F5"}},l.a.createElement(ut,{title:"record",expr:e.name}),l.a.createElement(ut,{title:"expr",expr:e.query})),l.a.createElement("td",null,l.a.createElement(z.a,{color:t(e.health)},e.health.toUpperCase())),l.a.createElement("td",null,e.lastError?l.a.createElement(N.a,{color:"danger"},e.lastError):null),l.a.createElement("td",null,Ie(e.lastEvaluation,Object(ct.now)())," ago"),l.a.createElement("td",null,Fe(1e3*parseFloat(e.evaluationTime)))))))))}return null});var mt=({pathPrefix:e})=>{const t=M("".concat(e,"/api/v1/rules")),a=t.response,n=t.error,r=t.isLoading;return l.a.createElement(ht,{response:a,error:n,isLoading:r})};const pt=({children:e,event:t,showMore:a})=>l.a.createElement("h3",null,e,l.a.createElement(H.a,{size:"xs",onClick:t,style:{padding:"0.3em 0.3em 0.25em 0.3em",fontSize:"0.375em",marginLeft:"1em",verticalAlign:"baseline"},color:"primary"},"show ",a?"less":"more")),dt=e=>Object.entries(e).map(([e,t])=>l.a.createElement("div",{key:e},l.a.createElement(z.a,{color:"primary",className:"mr-1"},"".concat(e,'="').concat(t,'"')))),gt=({value:e,name:t})=>{const a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],i=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(pt,{event:()=>{i(!r)},showMore:r},l.a.createElement("span",{className:"target-head"},t))),r?l.a.createElement(F.a,{size:"sm",bordered:!0,hover:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Discovered Labels"),l.a.createElement("th",null,"Target Labels"))),l.a.createElement("tbody",null,e.map((t,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,dt(e[a].discoveredLabels)),e[a].isDropped?l.a.createElement("td",{style:{fontWeight:"bold"}},"Dropped"):l.a.createElement("td",null,dt(e[a].labels)))))):null)},ft=({activeTargets:e,droppedTargets:t})=>{const a=((e,t)=>{const a={};var n,r=Object(Z.a)(e);try{for(r.s();!(n=r.n()).done;){const e=n.value.scrapePool;a[e]||(a[e]={total:0,active:0}),a[e].total++,a[e].active++}}catch(i){r.e(i)}finally{r.f()}var o,l=Object(Z.a)(t);try{for(l.s();!(o=l.n()).done;){const e=o.value.discoveredLabels.job;a[e]||(a[e]={total:0,active:0}),a[e].total++}}catch(i){l.e(i)}finally{l.f()}return a})(e,t),n=((e,t)=>{const a={};var n,r=Object(Z.a)(e);try{for(r.s();!(n=r.n()).done;){const e=n.value,t=e.scrapePool;a[t]||(a[t]=[]),a[t].push({discoveredLabels:e.discoveredLabels,labels:e.labels,isDropped:!1})}}catch(i){r.e(i)}finally{r.f()}var o,l=Object(Z.a)(t);try{for(l.s();!(o=l.n()).done;){const e=o.value,t=e.discoveredLabels.job;a[t]||(a[t]=[]),a[t].push({discoveredLabels:e.discoveredLabels,isDropped:!0,labels:{}})}}catch(i){l.e(i)}finally{l.f()}return a})(e,t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Service Discovery"),l.a.createElement("ul",null,He(a,([e,t])=>l.a.createElement("li",{key:e},l.a.createElement("a",{href:"#"+e},e," (",t.active," / ",t.total," active targets)")))),l.a.createElement("hr",null),He(n,([e,t])=>l.a.createElement(gt,{value:t,name:e,key:e})))};ft.displayName="ServiceDiscoveryContent";const xt=L(ft);var bt=({pathPrefix:e})=>{const t=M("".concat(e,"/api/v1/targets")),a=t.response,n=t.error,r=t.isLoading;return l.a.createElement(xt,Object.assign({},a.data,{error:n,isLoading:r,componentTitle:"Service Discovery information"}))};const yt={startTime:{title:"Start time",customizeValue:e=>new Date(e).toUTCString()},CWD:{title:"Working directory"},reloadConfigSuccess:{title:"Configuration reload",customizeValue:e=>e?"Successful":"Unsuccessful"},lastConfigTime:{title:"Last successful configuration reload"},chunkCount:{title:"Head chunks"},timeSeriesCount:{title:"Head time series"},corruptionCount:{title:"WAL corruptions"},goroutineCount:{title:"Goroutines"},storageRetention:{title:"Storage retention"},activeAlertmanagers:{customRow:!0,customizeValue:(e,t)=>l.a.createElement(o.Fragment,{key:t},l.a.createElement("tr",null,l.a.createElement("th",null,"Endpoint")),e.map(({url:e})=>{const t=new URL(e),a=t.origin,n=t.pathname;return l.a.createElement("tr",{key:e},l.a.createElement("td",null,l.a.createElement("a",{href:e},a),n))}))},droppedAlertmanagers:{skip:!0}},Et=({data:e,title:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,t),l.a.createElement(F.a,{className:"h-auto",size:"sm",bordered:!0,striped:!0},l.a.createElement("tbody",null,Object.entries(e).map(([e,t])=>{const a=yt[e]||{},n=a.title,r=void 0===n?e:n,o=a.customizeValue,i=void 0===o?e=>e:o,s=a.customRow;return a.skip?null:s?i(t,e):l.a.createElement("tr",{key:e},l.a.createElement("th",{className:"capitalize-title",style:{width:"35%"}},r),l.a.createElement("td",{className:"text-break"},i(t,r)))})))),vt=L(Et);Et.displayName="Status";var kt=({pathPrefix:e=""})=>{const t="".concat(e,"/api/v1");return l.a.createElement(l.a.Fragment,null,[{fetchResult:M("".concat(t,"/status/runtimeinfo")),title:"Runtime Information"},{fetchResult:M("".concat(t,"/status/buildinfo")),title:"Build Information"},{fetchResult:M("".concat(t,"/alertmanagers")),title:"Alertmanagers"}].map(({fetchResult:e,title:t})=>{const a=e.response,n=e.isLoading,r=e.error;return l.a.createElement(vt,{data:a.data,title:t,isLoading:n,error:r,componentTitle:t})}))},wt=a(45),St=a.n(wt);var Tt=({filter:e,setFilter:t})=>{const a=e.showHealthy,n={all:{active:a,className:"all ".concat(St.a.btn),color:"primary",onClick:()=>t(Object(T.a)({},e,{showHealthy:!0}))},unhealthy:{active:!a,className:"unhealthy ".concat(St.a.btn),color:"primary",onClick:()=>t(Object(T.a)({},e,{showHealthy:!1}))}};return l.a.createElement(te.a,null,l.a.createElement(H.a,n.all,"All"),l.a.createElement(H.a,n.unhealthy,"Unhealthy"))};var Ct=a(22),Mt=a.n(Ct);var Ot=({endpoint:e,globalUrl:t})=>{let a;try{a=new URL(e)}catch(u){return l.a.createElement(N.a,{color:"danger"},l.a.createElement("strong",null,"Error:")," ",u.message)}const n=a,r=n.host,o=n.pathname,i=n.protocol,s=n.searchParams,c=Array.from(s.entries());return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:t},"".concat(i,"//").concat(r).concat(o)),c.length>0?l.a.createElement("br",null):null,c.map(([e,t])=>l.a.createElement(z.a,{color:"primary",className:"mr-1 ".concat(e),key:e},"".concat(e,'="').concat(t,'"'))))},Nt=a(146),Pt=(a(119),a(64)),_t=a.n(Pt);var Lt=({discoveredLabels:e,labels:t,idx:a,scrapePool:n})=>{const r=Object(o.useState)(!1),i=Object(c.a)(r,2),s=i[0],u=i[1],h="series-labels-".concat(n,"-").concat(a);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:h,className:"series-labels-container"},Object.keys(t).map(e=>l.a.createElement(z.a,{color:"primary",className:"mr-1 ".concat(e),key:e},"".concat(e,'="').concat(t[e],'"')))),l.a.createElement(Nt.a,{isOpen:s,target:CSS.escape(h),toggle:()=>u(!s),style:{maxWidth:"none",textAlign:"left"}},l.a.createElement("b",null,"Before relabeling:"),(e=>Object.keys(e).map(t=>"".concat(t,'="').concat(e[t],'"')))(e).map((e,t)=>l.a.createElement(o.Fragment,{key:t},l.a.createElement("br",null),l.a.createElement("span",{className:_t.a.discovered},e)))))};function zt(e,t){const a=JSON.parse(localStorage.getItem(e)||JSON.stringify(t)),n=Object(o.useState)(a),r=Object(c.a)(n,2),l=r[0],i=r[1];return Object(o.useEffect)(()=>{const t=JSON.stringify(l);localStorage.setItem(e,t)},[e,l]),[l,i]}const Ft=["Endpoint","State","Labels","Last Scrape","Scrape Duration","Error"];var It=({scrapePool:e,targetGroup:t})=>{const a=zt("targets-".concat(e,"-expanded"),{expanded:!0}),n=Object(c.a)(a,2),r=n[0].expanded,o=n[1],i=t.upCount<t.targets.length?"danger":"normal",s="pool-".concat(e),u={href:"#".concat(s),id:s};return l.a.createElement("div",{className:Mt.a.container},l.a.createElement(pt,{event:()=>o({expanded:!r}),showMore:r},l.a.createElement("a",Object.assign({className:Mt.a[i]},u),"".concat(e," (").concat(t.upCount,"/").concat(t.targets.length," up)"))),l.a.createElement(p.a,{isOpen:r},l.a.createElement(F.a,{className:Mt.a.table,size:"sm",bordered:!0,hover:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{key:"header"},Ft.map(e=>l.a.createElement("th",{key:e},e)))),l.a.createElement("tbody",null,t.targets.map((e,t)=>{const a=e.discoveredLabels,n=e.labels,r=e.scrapePool,o=e.scrapeUrl,i=e.globalUrl,s=e.lastError,c=e.lastScrape,u=e.lastScrapeDuration,h=e.health,m=(e=>{switch(e.toLowerCase()){case"up":return"success";case"down":return"danger";default:return"warning"}})(h);return l.a.createElement("tr",{key:o},l.a.createElement("td",{className:Mt.a.endpoint},l.a.createElement(Ot,{endpoint:o,globalUrl:i})),l.a.createElement("td",{className:Mt.a.state},l.a.createElement(z.a,{color:m},h.toUpperCase())),l.a.createElement("td",{className:Mt.a.labels},l.a.createElement(Lt,{discoveredLabels:a,labels:n,scrapePool:r,idx:t})),l.a.createElement("td",{className:Mt.a["last-scrape"]},Ie(c,Object(ct.now)())),l.a.createElement("td",{className:Mt.a["scrape-duration"]},Fe(1e3*u)),l.a.createElement("td",{className:Mt.a.errors},s?l.a.createElement(z.a,{color:m},s):null))})))))};const Rt=({filter:e,activeTargets:t})=>{const a=t.reduce((e,t)=>{const a=t.health,n=t.scrapePool,r="up"===a.toLowerCase()?1:0;return e[n]||(e[n]={upCount:0,targets:[]}),e[n].targets.push(t),e[n].upCount+=r,e},{});const n=e.showHealthy,r=e.showUnhealthy;return l.a.createElement(l.a.Fragment,null,Object.keys(a).reduce((e,t)=>{const o=a[t],i=o.upCount===o.targets.length;return i&&n||!i&&r?[...e,l.a.createElement(It,{key:t,scrapePool:t,targetGroup:o})]:e},[]))};Rt.displayName="ScrapePoolContent";const jt=L(Rt);var Dt=({pathPrefix:e,filter:t})=>{const a=M("".concat(e,"/api/v1/targets?state=active")),n=a.response,r=a.error,o=a.isLoading,i=n.status,s="success"!==i&&"start fetching"!==i;return l.a.createElement(jt,Object.assign({},n.data,{filter:t,error:s?new Error(i):r,isLoading:o,componentTitle:"Targets information"}))};var Wt=({pathPrefix:e})=>{const t=zt("targets-page-filter",{showHealthy:!0,showUnhealthy:!0}),a=Object(c.a)(t,2),n=a[0],r={filter:n,setFilter:a[1]},o={filter:n,pathPrefix:e};return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Targets"),l.a.createElement(Tt,r),l.a.createElement(Dt,o))};const At=e=>{const t="?".concat(e.map(We).join("&"));window.history.pushState({},"",t)},Ht=e=>{let t=e.metrics,a=void 0===t?[]:t,n=e.useLocalTime,r=e.pathPrefix,i=e.queryHistoryEnabled,s=Object(O.a)(e,["metrics","useLocalTime","pathPrefix","queryHistoryEnabled"]);const u=Object(o.useState)(s.panels),h=Object(c.a)(u,2),m=h[0],p=h[1],d=zt("history",[]),g=Object(c.a)(d,2),f=g[0],x=g[1];Object(o.useEffect)(()=>{!m.length&&y(),window.onpopstate=()=>{const e=je(window.location.search);e.length>0&&p(e)}},[]);const b=e=>{if(-1!==a.indexOf(e)||!e.length)return;const t=f.reduce((t,a)=>a===e?t:[...t,a],[e]);x(t.slice(0,50))},y=()=>{qe(p,At)([...m,{id:Te(),key:"".concat(m.length),options:ke}])};return l.a.createElement(l.a.Fragment,null,m.map(({id:e,options:t})=>l.a.createElement(Se,{onExecuteQuery:b,key:e,options:t,onOptionsChanged:t=>qe(p,At)(m.map(a=>e===a.id?Object(T.a)({},a,{options:t}):a)),removePanel:()=>qe(p,At)(m.reduce((t,a)=>a.id!==e?[...t,Object(T.a)({},a,{key:"".concat(t.length)})]:t,[])),useLocalTime:n,metricNames:a,pastQueries:i?f:[],pathPrefix:r})),l.a.createElement(H.a,{className:"mb-3",color:"primary",onClick:y},"Add Panel"))};var qt=({pathPrefix:e=""})=>{const t=Object(o.useState)(0),a=Object(c.a)(t,2),n=a[0],r=a[1],i=zt("use-local-time",!1),s=Object(c.a)(i,2),u=s[0],h=s[1],m=zt("enable-query-history",!1),p=Object(c.a)(m,2),d=p[0],g=p[1],f=M("".concat(e,"/api/v1/label/__name__/values")),x=f.response,b=f.error,y=(new Date).getTime()/1e3,E=M("".concat(e,"/api/v1/query?query=time()")),v=E.response,k=E.error;return Object(o.useEffect)(()=>{if(v.data){const e=v.data.result[0];r(Math.abs(y-e))}},[v.data]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe,{wrapperStyles:{marginLeft:3,display:"inline-block"},id:"query-history-checkbox",onChange:({target:e})=>g(e.checked),defaultChecked:d},"Enable query history"),l.a.createElement(Qe,{wrapperStyles:{marginLeft:20,display:"inline-block"},id:"use-local-time-checkbox",onChange:({target:e})=>h(e.checked),defaultChecked:u},"Use local time"),(n>30||k)&&l.a.createElement(N.a,{color:"danger"},l.a.createElement("strong",null,"Warning: "),k&&"Unexpected response status when fetching server time: ".concat(k.message),n>=30&&"Error fetching server time: Detected ".concat(n," seconds time difference between your browser and the server. Prometheus relies on accurate time and time drift might cause unexpected query results.")),b&&l.a.createElement(N.a,{color:"danger"},l.a.createElement("strong",null,"Warning: "),"Error fetching metrics list: Unexpected response status when fetching metric names: ",b.message),l.a.createElement(Ht,{panels:je(window.location.search),pathPrefix:e,useLocalTime:u,metrics:x.data,queryHistoryEnabled:d}))};const Bt=({labelValueCountByLabelName:e,seriesCountByMetricName:t,memoryInBytesByLabelName:a,seriesCountByLabelValuePair:n})=>l.a.createElement("div",null,l.a.createElement("h2",null,"TSDB Status"),l.a.createElement("h3",{className:"p-2"},"Head Cardinality Stats"),[{title:"Top 10 label names with value count",stats:e},{title:"Top 10 series count by metric names",stats:t},{title:"Top 10 label names with high memory usage",unit:"Bytes",stats:a},{title:"Top 10 series count by label value pairs",stats:n}].map(({title:e,unit:t="Count",stats:a})=>l.a.createElement("div",{className:"p-2",key:e},l.a.createElement("h3",null,e),l.a.createElement(F.a,{bordered:!0,size:"sm",striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,t))),l.a.createElement("tbody",null,a.map(({name:e,value:t})=>l.a.createElement("tr",{key:e},l.a.createElement("td",null,e),l.a.createElement("td",null,t))))))));Bt.displayName="TSDBStatusContent";const Ut=L(Bt);var Vt=({pathPrefix:e})=>{const t=M("".concat(e,"/api/v1/status/tsdb")),a=t.response,n=t.error,r=t.isLoading;return l.a.createElement(Ut,Object.assign({error:n,isLoading:r},a.data,{componentTitle:"TSDB Status information"}))};var Yt=({pathPrefix:e,consolesLink:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{pathPrefix:e,consolesLink:t}),l.a.createElement(k.a,{fluid:!0,style:{paddingTop:70}},l.a.createElement(u.c,{basepath:"".concat(e,"/new")},l.a.createElement(u.b,{from:"/",to:"".concat(e,"/new/graph")}),l.a.createElement(qt,{path:"/graph",pathPrefix:e}),l.a.createElement(Ze,{path:"/alerts",pathPrefix:e}),l.a.createElement(ot,{path:"/config",pathPrefix:e}),l.a.createElement(st,{path:"/flags",pathPrefix:e}),l.a.createElement(mt,{path:"/rules",pathPrefix:e}),l.a.createElement(bt,{path:"/service-discovery",pathPrefix:e}),l.a.createElement(kt,{path:"/status",pathPrefix:e}),l.a.createElement(Vt,{path:"/tsdb-status",pathPrefix:e}),l.a.createElement(Wt,{path:"/targets",pathPrefix:e}))));a(120);let Gt=GLOBAL_PATH_PREFIX,Qt=GLOBAL_CONSOLES_LINK;"PATH_PREFIX_PLACEHOLDER"!==GLOBAL_PATH_PREFIX&&"/"!==GLOBAL_PATH_PREFIX&&Me(GLOBAL_PATH_PREFIX)||(Gt=""),"CONSOLES_LINK_PLACEHOLDER"!==GLOBAL_CONSOLES_LINK&&""!==GLOBAL_CONSOLES_LINK&&Me(GLOBAL_CONSOLES_LINK)||(Qt=null),s.a.render(l.a.createElement(Yt,{pathPrefix:Gt,consolesLink:Qt}),document.getElementById("root"))},22:function(e,t,a){e.exports={container:"ScrapePoolPanel_container__2macm",title:"ScrapePoolPanel_title__1ppGj",normal:"ScrapePoolPanel_normal__1AuiN ScrapePoolPanel_title__1ppGj",danger:"ScrapePoolPanel_danger__ZoHk6 ScrapePoolPanel_title__1ppGj",table:"ScrapePoolPanel_table__1Sdr1",cell:"ScrapePoolPanel_cell__3LVb_",endpoint:"ScrapePoolPanel_endpoint__1N4gx ScrapePoolPanel_cell__3LVb_",labels:"ScrapePoolPanel_labels__1VVxb ScrapePoolPanel_cell__3LVb_",state:"ScrapePoolPanel_state__2BqDx ScrapePoolPanel_cell__3LVb_","last-scrape":"ScrapePoolPanel_last-scrape__192VK ScrapePoolPanel_cell__3LVb_",errors:"ScrapePoolPanel_errors__2JBvY ScrapePoolPanel_cell__3LVb_"}},45:function(e,t,a){e.exports={btn:"Filter_btn__1yhdg"}},64:function(e,t,a){e.exports={discovered:"TargetLabels_discovered__2eSl4"}},68:function(e,t,a){e.exports=a(121)},98:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.3f9caea1.chunk.js.map